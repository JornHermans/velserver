VMBMETEO
    Meteo station
 for VELBUS system




    VMBMETEO PROTOCOL – edition 3   1
Binary format:

<SOF-SID10...SID0-RTR-IDE-r0-DLC3...0-DATABYTE1...DATABYTEn-CRC15...CRC1-CRCDEL-ACK-ACKDEL-
EOF7...EOF1-IFS3...IFS1>
  bits                          Description
  SOF                           Start Of Frame (always 0)
  SID10 & SID9                  Priority (00: highest … 11: lowest priority)
  SID8…SID1                     Address
  SID0                          Always 0
  RTR                           Remote Transmit Request
  IDE                           Identifier Extension (always 0)
  r0                            reserved (always 0)
  DLC3…DLC0                     Data Length Code (0…8)
  Databyte1                     Command
  Databyte2                     Parameter
  Databyte3                     Parameter
  Databyte4                     Parameter
  Databyte5                     Parameter
  Databyte6                     Parameter
  Databyte7                     Parameter
  Databyte8                     Parameter
  CRC15…CRC1                    Cyclic Redundancy Checksum
  CRCDEL                        CRC Delimiter (always 1)
  ACK                           Acknowledge slot (transmit 1 readback 0 if received correctly)
  ACKDEL                        Acknowledge Delimiter (always 1)
  EOF7...EOF1                   End Of Frame (always 1111111)
  IFS3...IFS1                   InterFrame Space (always 111)


The module can transmit the following messages:
  Channel status
  Module status
  Module type
  Transmits the first part of alarm channel name
  Bus error counter status
  Memory data
  Memory data block (4 bytes)
  Real-time clock status
  Date status
  Daylight savings status
  Real-time clock status request
  Clear linked push button led
  Set linked push button led
  Slow blink linked push button led
  Temperature value
  Transmit the rain, light and wind raw value:
  Transmit the rain, light and wind value as text string

The module can receive the following commands:
  Linked push button status
  Module type request
  Module status request
  Alarm channel name request
  Clear channel led
  Read memory data
  Read memory data block (4 bytes)
  Memory dump request
  Write memory data
  Write memory data block (4 bytes)
  Bus error counter status request
  Real-time clock status request



                                            VMBMETEO PROTOCOL – edition 3                        2
   Set real-time clock
   Set date
   Set daylight savings
   Enable/disable global sunrise/sunset related actions
   Enable/disable local sunrise/sunset related actions
   Set local alarm clock
   Set global alarm clock
   Lock alarm output channel
   Unlock alarm output channel
   Disable alarm output channel program
   Enable alarm output channel program
   Select program
   Set temperature calibration offset
   Set temperature calibration gain
   Reset minimum and maximum temperature
   Temperature request
   Sensor readout request




                                            VMBMETEO PROTOCOL – edition 3   3
Transmits real time clock status request:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = H’00’
    RTR = 0
    DLC3...DLC0 = 1 data byte to send
    DATABYTE1 = COMMAND_REALTIME_CLOCK_STATUS_REQUEST (H’D7’)

Transmits the real time clock status:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 4 data bytes to send
    DATABYTE1 = COMMAND_REALTIME_CLOCK_STATUS (H’D8’)
    DATABYTE2 = Day
                         Contents     Day
                            0         Monday
                            1         Tuesday
                            2         Wednesday
                            3         Thursday
                            4         Friday
                            5         Saturday
                            6         Sunday
    DATABYTE3 = Hour (0…23)
    DATABYTE4 = Minute (0…59)

Transmits the date status:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 5 data bytes to send
    DATABYTE1 = COMMAND_DATE_STATUS (H’B7’)
    DATABYTE2 = Day (1…31)
    DATABYTE3 = Month (1…12)
    DATABYTE4 = High byte of Year
    DATABYTE5 = Low byte of Year

Transmits the daylight savings status:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 2 data bytes to send
    DATABYTE1 = COMMAND_DAYLIGHT_SAVING_STATUS (H’AF’)
    DATABYTE2 = 0 =disabled / 1 = enabled

Transmits the alarm output switch status:
    SID10-SID9 = 00 (highest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 4 data bytes to send
    DATABYTE1 = COMMAND_PUSH_BUTTON_STATUS (H’00’)
    DATABYTE2 = Channel just pressed
    DATABYTE3 = Channel just released
    DATABYTE4 = Channel long pressed
                      Contents            Alarm output number
                     B’00000001’          Alarm output 1
                     B’00000010’          Alarm output 2
                     B’00000100’          Alarm output 3
                     B’00001000’          Alarm output 4
                     B’00010000’          Alarm output 5
                     B’00100000’          Alarm output 6
                     B’01000000’          Alarm output 7
                     B’10000000’          Alarm output 8




                                     VMBMETEO PROTOCOL – edition 3   4
Transmits the module type:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 7 data bytes to send
    DATABYTE1 = COMMAND_MODULE_TYPE (H’FF’)
    DATABYTE2 = VMBMETEO type (H’31’)
    DATABYTE3 = High byte of serial number
    DATABYTE4 = Low byte of serial number
    DATABYTE5 = Memory map version
    DATABYTE6 = Build year
    DATABYTE7 = Build week

Transmits the module status:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 7 databytes to send
    DATABYTE1 = COMMAND_MODULE_STATUS (H’ED’)
    DATABYTE2 = alarm output status (1 = pressed / 0 = released)
                       Contents         Alarm output status
                    B’xxxxxxx0’          Alarm output 1 off
                    B’xxxxxxx1’          Alarm output 1 on
                    B’xxxxxx0x’          Alarm output 2 off
                    B’xxxxxx1x’          Alarm output 2 on
                    B’xxxxx0xx’          Alarm output 3 off
                    B’xxxxx1xx’          Alarm output 3 on
                    B’xxxx0xxx’          Alarm output 4 off
                    B’xxxx1xxx’          Alarm output 4 on
                    B’xxx0xxxx’          Alarm output 5 off
                    B’xxx1xxxx’          Alarm output 5 on
                    B’xx0xxxxx’          Alarm output 6 off
                    B’xx1xxxxx’          Alarm output 6 on
                    B’x0xxxxxx’          Alarm output 7 off
                    B’x1xxxxxx’          Alarm output 7 on
                    B’0xxxxxxx’          Alarm output 8 off
                    B’1xxxxxxx’          Alarm output 8 on

    DATABYTE3 = locked alarm output status (0 = unlocked / 1 = locked)
                   Contents             Locked/unlocked alarm output status
                 B’xxxxxxx0’            Alarm output 1 unlocked
                 B’xxxxxxx1’            Alarm output 1 locked
                 B’xxxxxx0x’            Alarm output 2 unlocked
                 B’xxxxxx1x’            Alarm output 2 locked
                 B’xxxxx0xx’            Alarm output 3 unlocked
                 B’xxxxx1xx’            Alarm output 3 locked
                 B’xxxx0xxx’            Alarm output 4 unlocked
                 B’xxxx1xxx’            Alarm output 4 locked
                 B’xxx0xxxx’            Alarm output 5 unlocked
                 B’xxx1xxxx’            Alarm output 5 locked
                 B’xx0xxxxx’            Alarm output 6 unlocked
                 B’xx1xxxxx’            Alarm output 6 locked
                 B’x0xxxxxx’            Alarm output 7 unlocked
                 B’x1xxxxxx’            Alarm output 7 locked
                 B’0xxxxxxx’            Alarm output 8 unlocked
                 B’1xxxxxxx’            Alarm output 8 locked




                                         VMBMETEO PROTOCOL – edition 3        5
  DATABYTE4 = disabled alarm output program (0 = program enabled / 1 = program disabled)
                 Contents            Alarm output program enabled/disabled
               B’xxxxxxx0’            Alarm output 1 program enabled
               B’xxxxxxx1’            Alarm output 1 program disabled
               B’xxxxxx0x’            Alarm output 2 program enabled
               B’xxxxxx1x’            Alarm output 2 program disabled
               B’xxxxx0xx’            Alarm output 3 program enabled
               B’xxxxx1xx’            Alarm output 3 program disabled
               B’xxxx0xxx’            Alarm output 4 program enabled
               B’xxxx1xxx’            Alarm output 4 program disabled
               B’xxx0xxxx’            Alarm output 5 program enabled
               B’xxx1xxxx’            Alarm output 5 program disabled
               B’xx0xxxxx’            Alarm output 6 program enabled
               B’xx1xxxxx’            Alarm output 6 program disabled
               B’x0xxxxxx’            Alarm output 7 program enabled
               B’x1xxxxxx’            Alarm output 7 program disabled
               B’0xxxxxxx’            Alarm output 8 program enabled
               B’1xxxxxxx’            Alarm output 8 program disabled

  DATABYTE5 = clock alarm & program selection
                 Contents         Clock alarm/Selected program
            B’xxxxxx00’           None
            B’xxxxxx01’           Program group 1 selected
            B’xxxxxx10’           Program group 2 selected
            B’xxxxxx11’           Program group 3 selected
            B’xxxxx0xx’           Clock alarm 1 off
            B’xxxxx1xx’           Clock alarm 1 on
            B’xxxx0xxx’           Local clock alarm 1
            B’xxxx1xxx’           Global clock alarm 1
            B’xxx0xxxx’           Clock alarm 2 off
            B’xxx1xxxx’           Clock alarm 2 on
            B’xx0xxxxx’           Local clock alarm 2
            B’xx1xxxxx’           Global clock alarm 2
            B’x0xxxxxx’           Sunrise disabled
            B’x1xxxxxx’           Sunrise enabled
            B’0xxxxxxx’           Sunset disabled
            B’1xxxxxxx’           Sunset enabled
  DATABYTE6 = auto send time interval into seconds
               (Valid range: 10…255s)
               (5 = auto send when changed with minimum 1 minute time interval)
               (6 = auto send when 3.125% changed on rain, light or wind with minimum 1 minute time interval)
               (7 = auto send when 6.25% changed on rain, light or wind with minimum 1 minute time interval)
               (8 = auto send when 12.5% changed on rain, light or wind with minimum 1 minute time interval)
               (9 = auto send when 25% changed on rain, light or wind with minimum 1 minute time interval)
               (1…4 = auto send disabled)
               (0 = no change auto send interval)
  DATABYTE7 = test modus
                 Contents              Test modus
               B’0xxxxxxx’             Test modus inactive
               B’10xxxxxx’             Test modus active


Transmit: Bus error counter status
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 4 databytes to send
    DATABYTE1 = COMMAND_BUSERROR_COUNTER_STATUS (H’DA’)
    DATABYTE2 = Transmit error counter
    DATABYTE3 = Receive error counter
    DATABYTE4 = Bus off counter




                                      VMBMETEO PROTOCOL – edition 3                                             6
Transmits the memory data:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 4 databytes to send
    DATABYTE1 = COMMAND_MEMORY_DATA (H’FE’)
    DATABYTE2 = High memory address
    DATABYTE3 = LOW memory address
    DATABYTE4 = memory data

   Remark: address range: 0x0000 to 0x03FF

Transmits memory data block (4 bytes):
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 7 databytes to send
    DATABYTE1 = COMMAND_MEMORY_DATA_BLOCK (H’CC’)
    DATABYTE2 = High start address of memory block
    DATABYTE3 = LOW start address of memory block
    DATABYTE4 = memory data1
    DATABYTE5 = memory data2
    DATABYTE6 = memory data3
    DATABYTE7 = memory data4

   Remark: address range: 0x0000 to 0x03FC

Transmits the first part of alarm channel name:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 8 databytes to send
    DATABYTE1 = COMMAND_CHANNEL_NAME_PART1 (H’F0’)
    DATABYTE2 = channel bit
                        Contents         Channel
                    B’00000001’          channel 1
                    B’00000010’          channel 2
                    B’00000100’          channel 3
                    B’00001000’          channel 4
                    B’00010000’          channel 5
                    B’00100000’          channel 6
                    B’01000000’          channel 7
                    B’10000000’          channel 8
    DATABYTE3 = Character 1 of the channel name
    DATABYTE4 = Character 2 of the channel name
    DATABYTE5 = Character 3 of the channel name
    DATABYTE6 = Character 4 of the channel name
    DATABYTE7 = Character 5 of the channel name
    DATABYTE8 = Character 6 of the channel name




                                       VMBMETEO PROTOCOL – edition 3   7
Transmits the second part of the alarm channel name:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 8 databytes to send
    DATABYTE1 = COMMAND_CHANNEL_NAME_PART2 (H’F1’)
    DATABYTE2 = Channel bit
                      Contents          Channel
                  B’00000001’           channel 1
                  B’00000010’           channel 2
                  B’00000100’           channel 3
                  B’00001000’           channel 4
                  B’00010000’           channel 5
                  B’00100000’           channel 6
                  B’01000000’           channel 7
                  B’10000000’           channel 8
    DATABYTE3 = Character 7 of the channel name
    DATABYTE4 = Character 8 of the channel name
    DATABYTE5 = Character 9 of the channel name
    DATABYTE6 = Character 10 of the channel name
    DATABYTE7 = Character 11 of the channel name
    DATABYTE8 = Character 12 of the channel name

Transmits the third part of the alarm channel name:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 6 databytes to send
    DATABYTE1 = COMMAND_CHANNEL_NAME_PART3 (H’F2’)
    DATABYTE2 = channel bit
                       Contents          Channel
                   B’00000001’           channel 1
                   B’00000010’           channel 2
                   B’00000100’           channel 3
                   B’00001000’           channel 4
                   B’00010000’           channel 5
                   B’00100000’           channel 6
                   B’01000000’           channel 7
                   B’10000000’           channel 8
    DATABYTE3 = Character 13 of the channel name
    DATABYTE4 = Character 14 of the channel name
    DATABYTE5 = Character 15 of the channel name
    DATABYTE6 = Character 16 of the channel name

    Remarks:
    Unused characters contain H’FF’.

Transmit: Clears LEDs on a linked push button module:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address of the linked push button module for clearing LEDs
    RTR = 0
    DLC3...DLC0 = 2 databytes to send
    DATABYTE1 = COMMAND_CLEAR_LED (H’F5’)
    DATABYTE2 = LED bit numbers (1 = clear LED)

Transmit: Sets LEDs on a linked push button module:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address of the linked push button module for setting LEDs on
    RTR = 0
    DLC3...DLC0 = 2 databytes to send
    DATABYTE1 = COMMAND_SET_LED (H’F6’)
    DATABYTE2 = LED bit numbers (1 = set LED)




                                          VMBMETEO PROTOCOL – edition 3          8
Transmit: Blinks LEDs slowly on a linked push button module:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address of the linked push button module for slowly blinking LEDs
    RTR = 0
    DLC3...DLC0 = 2 databytes to send
    DATABYTE1 = COMMAND_SLOW_BLINKING_LED (H’F7’)
    DATABYTE2 = LED bit numbers (1 = slow blink LED)

Transmit the sensor temperature:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 7 data bytes to send
    DATABYTE1 = COMMAND_SENSOR_TEMPERATURE (H’E6’)
    DATABYTE2 = High byte current sensor temperature
    DATABYTE3 = Low byte current sensor temperature into two’s complement format (resolution 0.0625°)
    DATABYTE4 = High byte minimum sensor temperature
    DATABYTE5 = Low byte minimum sensor temperature into two’s complement format (resolution 0.0625°)
    DATABYTE6 = High byte maximum sensor temperature
    DATABYTE7 = Low byte maximum sensor temperature into two’s complement format (resolution 0.0625°)
                      High byte     Low byte  Current sensor temperature
                      01111111      11100000  63.5°C

                       00000000       00100000       0.0625°C
                       00000000       00000000       0°C
                       11111111       11100000       -0.0625°C

                       10010010       00000000       -55°C

Transmit the rain, light and wind raw value:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 7 data bytes to send
    DATABYTE1 = COMMAND_SENSOR_RAW_DATA (H’A9’)
    DATABYTE2 = High byte current rain value
    DATABYTE3 = Low byte current rain value (value x 0.1mm/h)
    DATABYTE4 = High byte current light value
    DATABYTE5 = Low byte current light value (lux)
    DATABYTE6 = High byte current wind value
    DATABYTE7 = Low byte current wind value (value x 0.1km/h)

Transmit the rain, light and wind value as a text string:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = number of databytes to send
    DATABYTE1 = COMMAND_TEXT (H’AC’)
    DATABYTE2 = remote analog sensor channel
                 Contents         Sensor
               B’00000010’        Rain
               B’00000100’        Light
               B’00001000’        Wind
    DATABYTE3 = text start position
    DATABYTE4 = character 1
    DATABYTE5 = character 2
    DATABYTE6 = character 3
    DATABYTE7 = character 4
    DATABYTE8 = character 5

    Remark:
    valid text start position: 0…15
    maximum 15 characters are allowed
    shorter text stings must be ended with a zero value




                                            VMBMETEO PROTOCOL – edition 3                               9
‘Linked push button status’ received:
    SID10-SID9 = 00 (highest priority)
    SID8...SID1 = Address of the linked push button module
    RTR = 0
    DLC3...DLC0 = 4 databytes received
    DATABYTE1 = COMMAND_PUSH_BUTTON_STATUS (H’00’)
    DATABYTE2 = Linked push buttons just pressed (1 = just pressed)
    DATABYTE3 = Linked push buttons just released (1 = just released)
    DATABYTE4 = linked push buttons long pressed (1 = longer than 0.85s pressed)

‘Real time clock status request’ command received:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 1 databyte to send
    DATABYTE1 = COMMAND_REALTIME_CLOCK_STATUS_REQUEST (H’D7’)

‘Set real time clock’ command received:
     SID10-SID9 = 11 (lowest priority)
     SID8...SID1 = H’00’
     RTR = 0
     DLC3...DLC0 = 4 databytes to send
     DATABYTE1 = COMMAND_SET_REALTIME_CLOCK (H’D8’)
     DATABYTE2 = Day of week
                 Contents day of week’  Description
                         H’00’          Monday
                         H’01’          Tuesday
                         H’02’          Wednesday
                         H’03’          Thursday
                         H’04’          Friday
                         H’05’          Saterday
                         H’06’          Sunday
     DATABYTE3 = Hours (0…23)
     DATABYTE4 = Minutes (0…59)

‘Set date’ command received:
     SID10-SID9 = 11 (lowest priority)
     SID8...SID1 = H’00’
     RTR = 0
     DLC3...DLC0 = 5 databytes to send
     DATABYTE1 = COMMAND_SET_REALTIME_DATE (H’B7’)
     DATABYTE2 = Day (1…31)
     DATABYTE3 = Month (1…12)
     DATABYTE4 = High byte of Year
     DATABYTE5 = Low byte of Year

‘Set daylight savings’ command received:
     SID10-SID9 = 11 (lowest priority)
     SID8...SID1 = H’00’
     RTR = 0
     DLC3...DLC0 = 2 databytes to send
     DATABYTE1 = COMMAND_SET_DAYLIGHT_SAVING (H’AF’)
     DATABYTE2 = 0 =disabled / 1 = enabled




                                         VMBMETEO PROTOCOL – edition 3             10
‘Enable/disable global sunrise/sunset related actions’ command received:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = H’00’
    RTR = 0
    DLC3...DLC0 = 3 databytes to send
    DATABYTE1 = COMMAND_ENA_DIS_SUNRISE_SUNSET (H’AE’)
    DATABYTE2 = Channel (FF)
    DATABYTE3 = enable/disable flags
                       Contents              Description
                    B’xxxxxxx0’              Disable sunrise related actions
                    B’xxxxxxx1’              Enable sunrise related actions
                    B’xxxxxx0x’              Disable sunset related actions
                    B’xxxxxx1x’              Enable sunset related actions

‘Enable/disable local sunrise/sunset related actions’ command received:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 3 databytes to send
    DATABYTE1 = COMMAND_ENA_DIS_SUNRISE_SUNSET (H’AE’)
    DATABYTE2 = Channel (FF)
    DATABYTE3 = enable/disable flags
                       Contents               Description
                     B’xxxxxxx0’              Disable sunrise related actions
                     B’xxxxxxx1’              Enable sunrise related actions
                     B’xxxxxx0x’              Disable sunset related actions
                     B’xxxxxx1x’              Enable sunset related actions

‘Set global clock alarm’ command received:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = H’00’
    RTR = 0
    DLC3...DLC0 = 7 databytes to send
    DATABYTE1 = COMMAND_SET_ALARM_CLOCK (H’C3’)
    DATABYTE2 = Alarm number (1 or 2)
    DATABYTE3 = Wake up hour (0…23)
    DATABYTE4 = Wake up minute (0…59)
    DATABYTE5 = Go to bed hour (0…23)
    DATABYTE6 = Go to bed minute (0…59)
    DATABYTE7 = Clock alarm enable flag (0 = disabled / 1 = enabled)

‘Set local clock alarm’ command received:
     SID10-SID9 = 11 (lowest priority)
     SID8...SID1 = Module address
     RTR = 0
     DLC3...DLC0 = 7 databytes to send
     DATABYTE1 = COMMAND_SET_ALARM_CLOCK (H’C3’)
     DATABYTE2 = Alarm number (1 or 2)
     DATABYTE3 = Wake up hour (0…23)
     DATABYTE4 = Wake up minute (0…59)
     DATABYTE5 = Go to bed hour (0…23)
     DATABYTE6 = Go to bed minute (0…59)
     DATABYTE7 = Clock alarm enable flag (0 = disabled / 1 = enabled)

‘Module type request’ command received:
   SID10-SID9 = 11 (lowest priority)
   SID8...SID1 = Module address
   RTR = 1
   DLC3...DLC0 = 0 databytes received




                                           VMBMETEO PROTOCOL – edition 3        11
‘Module status request’ command received:
   SID10-SID9 = 11 (lowest priority)
   SID8...SID1 = Module address
   RTR = 0
   DLC3...DLC0 = 2 databytes received
   DATABYTE1 = COMMAND_MODULE_STATUS_REQUEST (H’FA’)
   DATABYTE2 = don’t care

‘Alarm channel name request’ command received:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 2 databytes received
    DATABYTE1 = COMMAND_CHANNEL_NAME_REQUEST (H’EF’)
    DATABYTE2 = channel bit
                      Contents        Channel
                  B’00000001’         channel 1
                  B’00000010’         channel 2
                  B’00000100’         channel 3
                  B’00001000’         channel 4
                  B’00010000’         channel 5
                  B’00100000’         channel 6
                  B’01000000’         channel 7
                  B’10000000’         channel 8

‘Temperature request’ command received:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 2 data bytes to send
    DATABYTE1 = COMMAND_SENSOR_TEMP_REQUEST (H’E5’)
    DATABYTE2 = Auto send time interval into seconds
                     (valid range: 10…255s)
                     (5 = auto send when changed with minimum 1 minute time interval)
                     (6 = auto send when 3.125% changed on rain, light or wind with minimum 1 minute time interval)
                     (7 = auto send when 6.25% changed on rain, light or wind with minimum 1 minute time interval)
                     (8 = auto send when 12.5% changed on rain, light or wind with minimum 1 minute time interval)
                     (9 = auto send when 25% changed on rain, light or wind with minimum 1 minute time interval)
                     (1…4 = auto send disabled)
                     (0 = no change on auto send interval)




                                          VMBMETEO PROTOCOL – edition 3                                               12
‘Set temperature’ command received:
     SID10-SID9 = 11 (lowest priority)
     SID8...SID1 = Module address
     RTR = 0
     DLC3...DLC0 = 3 data bytes received
     DATABYTE1 = COMMAND_SET_TEMP (H’E4’)
     DATABYTE2 = Pointer to temperature variable (0…20)
                      Contents       Temperature variable
                           11        Calibration offset (-8°…+7.5°C)
                           12        Reset minimum/maximum temperature
                           28        Calibration gain factor
     DATABYTE3 = calibration offset (resolution 0.5°)
                      Contents       Callibration offset
                      00001111       +7.5°C

                       00000001      +0.5°C
                       00000000      0°C
                       11111111      -0.5°C

                 11110000     -8°C
    DATABYTE3 = Reset minimum/maximum temperature
                 Contents     Reset temperature
                 00000001     Reset minimum temperature
                 00000010     Reset maximum temperature

    Remark:
    Wait at least 10ms for sending a next command on the velbus.

‘Sensor readout request’ command received:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 3 databytes to send
    DATABYTE1 = COMMAND_SENSOR_VALUE_REQUEST (H’E5’)
    DATABYTE2 =Sensor channel
                 Contents        Sensor
              B’00000010’        Rain
              B’00000100’        Light
              B’00001000’        Wind
    DATABYTE3 = Autosend time interval into seconds
                     (valid range: 10…255s)
                     (5 = auto send when changed with minimum 1 minute time interval)
                     (6 = auto send when 3.125% changed on rain, light or wind with minimum 1 minute time interval)
                     (7 = auto send when 6.25% changed on rain, light or wind with minimum 1 minute time interval)
                     (8 = auto send when 12.5% changed on rain, light or wind with minimum 1 minute time interval)
                     (9 = auto send when 25% changed on rain, light or wind with minimum 1 minute time interval)
                     (1…4 = auto send disabled)
                     (0 = no change on auto send interval)

‘Set or Clear test mode’ command received:
     SID10-SID9 = 11 (lowest priority)
     SID8...SID1 = Module address
     RTR = 0
     DLC3...DLC0 = 2 databytes received
     DATABYTE1 = COMMAND_SET_CLR_LEARN_MODE (H’B5’)
     DATABYTE2 = Operating mode
                        Contents       Operating mode
                    B’00000000’        Normal
                    B’00000001’        Test mode

    Remark:
    After changing the operating mode, the module sends his status.
    There is a timeout of 30 minutes for the test mode.




                                           VMBMETEO PROTOCOL – edition 3                                              13
‘Clear channel LED’ command received:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 2 databytes received
    DATABYTE1 = COMMAND_CLEAR_LED (H’F5’)
    DATABYTE2 = LEDs to clear (a one clears the corresponding LED of channel 1 to 8)

‘Read data from memory’ command received:
   SID10-SID9 = 11 (lowest priority)
   SID8...SID1 = Module address
   RTR = 0
   DLC3...DLC0 = 3 databytes received
   DATABYTE1 = COMMAND_READ_DATA_FROM_MEMORY (H’FD’)
   DATABYTE2 = High memory address
   DATABYTE3 = LOW memory address

    Remark: address range: H’0000’ to H’03FF’

‘Memory dump request’ command received:
   SID10-SID9 = 11 (lowest priority)
   SID8...SID1 = Module address
   RTR = 0
   DLC3...DLC0 = 1 databytes received
   DATABYTE1 = COMMAND_MEMORY_DUMP_REQUEST (H’CB’)

‘Read data block from memory’ command received:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 3 databytes received
    DATABYTE1 = COMMAND_READ_MEMORY_BLOCK (H’C9’)
    DATABYTE2 = High memory address
    DATABYTE3 = LOW memory address

    Remark: address range: H’0000’ to H’03FC’

‘Write data to memory’ command received:
   SID10-SID9 = 11 (lowest priority)
   SID8...SID1 = Module address
   RTR = 0
   DLC3...DLC0 = 4 databytes received
   DATABYTE1 = COMMAND_WRITE_DATA_TO_MEMORY (H’FC’)
   DATABYTE2 = High memory address
   DATABYTE3 = LOW memory address (H’00’...H’FF’)
   DATABYTE4 = memory data to write
    Remark:
    Wait at least 10ms for sending a next command on the velbus.
    Address range: H’0000’ to H’03FF’




                                          VMBMETEO PROTOCOL – edition 3                14
‘Write memory block’ command received:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address of the module
    RTR = 0
    DLC3...DLC0 = 7 databytes received
    DATABYTE1 = COMMAND_WRITE_MEMORY_BLOCK (H’CA’)
    DATABYTE2 = High memory address
    DATABYTE3 = LOW memory address
    DATABYTE4 = memory databyte1 to write
    DATABYTE5 = memory databyte2 to write
    DATABYTE6 = memory databyte3 to write
    DATABYTE7 = memory databyte4 to write

   Remark:
   Wait for ‘memory data block’ feedback before sending a next command on the velbus.
   Address range: H’0000’ to H’03FC’

‘Bus error counter status request’ command received:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 1 databytes to send
    DATABYTE1 = COMMAND_BUS_ERROR_CONTER_STATUS_REQUEST (H’D9’)

‘Unlock alarm output channel’ command received:
   SID10-SID9 = 00 (highest priority)
   SID8...SID1 = Module address
   RTR = 0
   DLC3...DLC0 = 2 databytes received
    DATABYTE1 = COMMAND_CANCEL_FORCED_OFF (H’13’)
    DATABYTE2 = Channel bit
                      Contents        Alarm output channel
                 B’xxxxxxx1’          Alarm output 1
                 B’xxxxxx1x’          Alarm output 2
                 B’xxxxx1xx’          Alarm output 3
                 B’xxxx1xxx’          Alarm output 4
                 B’xxx1xxxx’          Alarm output 5
                 B’xx1xxxxx’          Alarm output 6
                 B’x1xxxxxx’          Alarm output 7
                 B’1xxxxxxx’          Alarm output 8




                                        VMBMETEO PROTOCOL – edition 3                   15
‘Lock alarm output channel’ command received:
    SID10-SID9 = 00 (highest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 5 databytes received
    DATABYTE1 = COMMAND_FORCED_OFF (H’12’)
    DATABYTE2 = Channel bit
                      Contents         Alarm output channel
                  B’xxxxxxx1’          Alarm output 1
                  B’xxxxxx1x’          Alarm output 2
                  B’xxxxx1xx’          Alarm output 3
                  B’xxxx1xxx’          Alarm output 4
                  B’xxx1xxxx’          Alarm output 5
                  B’xx1xxxxx’          Alarm output 6
                  B’x1xxxxxx’          Alarm output 7
                  B’1xxxxxxx’          Alarm output 8
    DATABYTE3 = high byte of delay time
    DATABYTE4 = mid byte of delay time
    DATABYTE5 = low byte of delay time

    Remark:
    [DATABYTE3][DATABYTE4][DATABYTE5] contain a 24-bit time in seconds
    The command will be skipped when the time parameter contains zero.
    When the time parameter contains H’FFFFFF’ then the channel will be permanently locked.

‘Enable alarm output channel program’ command received:
   SID10-SID9 = 11 (lowest priority)
   SID8...SID1 = Module address
   RTR = 0
   DLC3...DLC0 = 2 databytes received
   DATABYTE1 = COMMAND_ENABLE_PROGRAM (H’B2’)
   DATABYTE2 = Channel bit
                     Contents         Alarm output channel
                 B’xxxxxxx1’          Alarm output 1
                 B’xxxxxx1x’          Alarm output 2
                 B’xxxxx1xx’          Alarm output 3
                 B’xxxx1xxx’          Alarm output 4
                 B’xxx1xxxx’          Alarm output 5
                 B’xx1xxxxx’          Alarm output 6
                 B’x1xxxxxx’          Alarm output 7
                 B’1xxxxxxx’          Alarm output 8




                                         VMBMETEO PROTOCOL – edition 3                        16
‘Disable alarm output channel program’ command received:
   SID10-SID9 = 11 (lowest priority)
   SID8...SID1 = Module address
   RTR = 0
   DLC3...DLC0 = 5 databytes received
    DATABYTE1 = COMMAND_DISABLE_PROGRAM (H’B1’)
    DATABYTE2 = channel
                      Contents        Channel
                 B’xxxxxxx1’          Alarm output 1
                 B’xxxxxx1x’          Alarm output 2
                 B’xxxxx1xx’          Alarm output 3
                 B’xxxx1xxx’          Alarm output 4
                 B’xxx1xxxx’          Alarm output 5
                 B’xx1xxxxx’          Alarm output 6
                 B’x1xxxxxx’          Alarm output 7
                 B’1xxxxxxx’          Alarm output 8
    DATABYTE3 = high byte of delay time
    DATABYTE4 = mid byte of delay time
    DATABYTE5 = low byte of delay time

   Remark:
   [DATABYTE3][DATABYTE4][DATABYTE5] contain a 24-bit time in seconds
   The command will be skipped when the time parameter contains zero.
   When the time parameter contains H’FFFFFF’ then the channel program will be permanently disabled.

‘Select Program’ command received:
   SID10-SID9 = 11 (lowest priority)
   SID8...SID1 = Module address
   RTR = 0
   DLC3...DLC0 = 2 databytes received
    DATABYTE1 = COMMAND_SELECT_PROGRAM (H’B3’)
    DATABYTE2 = Program mode
                     Contents         Selected programl
                       0              None
                       1              Group 1 (ex. Summer)
                       2              Group 2 (ex. Winter)
                       3              Group 3 (ex. Holiday)




                                        VMBMETEO PROTOCOL – edition 3                                  17
 Memory map version 1:

Address   Contents                                                  Address   Contents
0x0000    Alarm output 1 name character 1                           0x0001    Alarm output 1 name character 2
...       ...                                                       ...       ...
0x000E    Alarm output 1 name character 15                          0x000F    Alarm output 1 name character 16
0x0010    Alarm output 2 name character 1                           0x0011    Alarm output 2 name character 2
...       ...                                                       ...       ...
0x001E    Alarm output 2 name character 15                          0x001F    Alarm output 2 name character 16
0x0020    Alarm output 3 name character 1                           0x0021    Alarm output 3 name character 2
...       ...                                                       ...       ...
0x002E    Alarm output 3 name character 15                          0x002F    Alarm output 3 name character 16
0x0030    Alarm output 4 name character 1                           0x0031    Alarm output 4 name character 2
...       ...                                                       ...       ...
0x003E    Alarm output 4 character 15                               0x003F    Alarm output 4 name character 16
0x0040    Alarm output 5 name character 1                           0x0041    Alarm output 5 name character 2
...       ...                                                       ...       ...
0x004E    Alarm output 5 name character 15                          0x004F    Alarm output 5 name character 16
0x0050    Alarm output 6 name character 1                           0x0051    Alarm output 6 name character 2
...       ...                                                       ...       ...
0x005E    Alarm output 6 name character 15                          0x005F    Alarm output 6 name character 16
0x0060    Alarm output 7 name character 1                           0x0061    Alarm output 7 name character 2
...       ...                                                       ...       ...
0x006E    Alarm output 7 name character 15                          0x006F    Alarm output 7 name character 16
0x0070    Alarm output 8 name character 1                           0x0071    Alarm output 8 name character 2
...       ...                                                       ...       ...
0x007E    Alarm output 8 character 15                               0x007F    Alarm output 8 name character 16
0x0080    Temperature calibration offset                            0x0081    Temperature calibration gain
0x0082    Module terminator                                         0x0083    Clock alarm configuration
0x0084    Wake up 1 hour (0…23)                                     0x0085    Wake up 1 minutes (0…59)
0x0086    Go to bed 1 hour (0…23)                                   0x0087    Go to bed 1 minutes (0…59)
0x0088    Wake up 2 hour (0…23)                                     0x0089    Wake up 2 minutes (0…59)
0x008A    Go to bed 2 hour (0…23)                                   0x008B    Go to bed 2 minutes (0…59)
0x008C    Sunrise hour at 21 December (0…23)                        0x008D    Sunrise minutes at 21 December (0…59)
0x008E    Sunrise 21 January – sunrise 5 January (-128’..127’)      0x008F    Sunrise 5 February – sunrise 21 January (-128’..127’)
0x0090    Sunrise 21 February – sunrise 5 February (-128’..127’)    0x0091    Sunrise 5 March – sunrise 21 February (-128’..127’)
0x0092    Sunrise 21 March – sunrise 5 March (-128’..127’)          0x0093    Sunrise 5 April – sunrise 21 March (-128’..127’)
0x0094    Sunrise 21 April – sunrise 5 April (-128’..127’)          0x0095    Sunrise 5 May – sunrise 21 April (-128’..127’)
0x0096    Sunrise 21 May – sunrise 5 May (-128’..127’)              0x0097    Sunrise 5 June – sunrise 21 May (-128’..127’)
0x0098    Sunrise 21 June – sunrise 5 June (-128’..127’)            0x0099    Sunrise 5 July – sunrise 21 June (-128’..127’)
0x009A    Sunrise 21 July – sunrise 5 July (-128’..127’)            0x009B    Sunrise 5 August – sunrise 21 July (-128’..127’)
0x009C    Sunrise 21 August – sunrise 5 August (-128’..127’)        0x009D    Sunrise 5 September – sunrise 21 August (-128’..127’)
0x009E    Sunrise 21 September – sunrise 5 September (-128..127’)   0x009F    Sunrise 5 October – sunrise 21 September (-128’..127’)
0x00A0    Sunrise 21 October – sunrise 5 October (-128’..127’)      0x00A1    Sunrise 5 November – sunrise 21 October (-128’..127’)
0x00A2    Sunrise 21 November – sunrise 5 November (-128’..127’)    0x00A3    Sunrise 5 December – sunrise 21 November (-128’..127’)
0x00A4    Sunrise 21 December – sunrise 5 December (-128’..127’)    0x00A5    Sunrise 5 January – sunrise 21 December (-128’..127’)
0x00A6    Sunset hour at 21 December (0…23)                         0x00A7    Sunset minutes at 21 December (0…59)
0x00A8    Sunset 21 January – sunrise 5 January (-128’..127’)       0x00A9    Sunset 5 February – sunrise 21 January (-128’..127’)
0x00AA    Sunset 21 February – sunrise 5 February (-128’..127’)     0x00AB    Sunset 5 March – sunrise 21 February (-128’..127’)
0x00AC    Sunset 21 March – sunrise 5 March (-128’..127’)           0x00AD    Sunset 5 April – sunrise 21 March (-128’..127’)
0x00AE    Sunset 21 April – sunrise 5 April (-128’..127’)           0x00AF    Sunset 5 May – sunrise 21 April (-128’..127’)
0x00B0    Sunset 21 May – sunrise 5 May (-128’..127’)               0x00B1    Sunset 5 June – sunrise 21 May (-128’..127’)
0x00B2    Sunset 21 June – sunrise 5 June (-128’..127’)             0x00B3    Sunset 5 July – sunrise 21 June (-128’..127’)
0x00B4    Sunset 21 July – sunrise 5 July (-128’..127’)             0x00B5    Sunset 5 August – sunrise 21 July (-128’..127’)
0x00B6    Sunset 21 August – sunrise 5 August (-128’..127’)         0x00B7    Sunset 5 September – sunrise 21 August (-128’..127’)
0x00B8    Sunset 21 September – sunrise 5 September (-128’..127’)   0x00B9    Sunset 5 October – sunrise 21 September (-128’..127’)
0x00BA    Sunset 21 October – sunrise 5 October (-128’..127’)       0x00BB    Sunset 5 November – sunrise 21 October (-128’..127’)
0x00BC    Sunset 21 November – sunrise 5 November (-128’..127’)     0x00BD    Sunset 5 December – sunrise 21 November (-128’..127’)
0x00BE    Sunset 21 December – sunrise 5 December (-128’..127’)     0x00BF    Sunset 5 January – sunrise 21 December (-128’..127’)
0x00C0    Rain sensor name character 1                              0x00C1    Rain sensor name character 2
...       ...                                                       ...       ...
0x00CE    Rain sensor name character 15                             0x00CF    Rain sensor name character 16
0x00D0    Light sensor name character 1                             0x00D1    Light sensor name character 2
...       ...                                                       ...       ...
0x00DE    Light sensor name character 15                            0x00DF    Light sensor name character 16
0x00E0    Wind sensor name character 1                              0x00E1    Wind sensor character 2
...       ...                                                       ...       ...
0x00EE    Wind sensor name character 15                             0x00EF    Wind sensor name character 16



                                              VMBMETEO PROTOCOL – edition 3                                                  18
0x00F0   Not used                                           0x00F1    Not used
0x00F2   Not used                                           0x00F3    Not used
0x00F4   Auto send time interval                            0x00F5    Program selection (none/group1/group2/group3)
0x00F6   Output alarms program disable/enable flags         0x00F7    Output alarms locked/unlocked flags
0x00F8   Current day (1…31)                                 0x00F9    Current month (1…12)




                                             VMBMETEO PROTOCOL – edition 3                                            19
Address   Contents                                             Address      Contents
0x00FA    Current year high byte                               0x00FB       Current year low byte
0x00FC    Zone address                                         0x00FD       Module address
0x00FE    Serial number high                                   0x00FF       Serial number low

     Remark:
     Unused locations contain H’FF’
     Do not overwrite the following address location:
               0x00F4                         auto send time interval
               0x00F5                         program selection
               0x00F6                         output alarms program enable/disable
               0x00F7                         output alarms locked/unlocked
               0x00F8’                        current day of month
               0x00F9’                        current month
               0x00FA & 0x00FB                current year
               0x00FC’                        zone address
               0x00FD’                        module address
               0x00FE & 0x00FF                module serial number

                Temperature calibration offset (resolution 0.5°):
                  Contents              Calibration offset
                  00001111              Calibration offset +7.5°C
                  …                     …
                  00000001              Calibration offset +0.5°C
                  00000000              Calibration offset +0°C (default)
                  11111111              Calibration offset -0.5°C
                  …                     …
                  11110000              Calibration offset -8°C

                Temperature calibration gain:
                  Contents              Calibration gain
                  0                     Calibration gain
                  …                     …
                  128                   Calibration gain (default)
                  …                     …
                  255                   Calibration gain
                 Calibrated Temperature = (gain/128) * sensortemperature + offset


                Clock alarm configuration
                        Contents        Clock alarm flags
                      B’xxxxxxx0’          Clock alarm 1 disabled
                      B’xxxxxxx1’          Clock alarm 1 enabled
                      B’0xxxxx0x’          Local clock alarm 1
                      B’1xxxxx1x’          Global clock alarm 1
                      B’xxxxx0xx’          Clock alarm 2 disabled
                      B’xxxxx1xx’          Clock alarm 2 enabled
                      B’xxxx0xxx’          Local clock alarm 2
                      B’xxxx1xxx’          Global clock alarm 2
                      B’xxx0xxxx’          Sunrise disabled
                      B’xxx1xxxx’          Sunrise enabled
                      B’xx0xxxxx’          Sunset disabled
                      B’xx1xxxxx’          Sunset enabled
                      B’x0xxxxxx’          Summer time disabled
                      B’x1xxxxxx’          Summer time enabled

                Auto send time interval into seconds
                valid range: 10…255s fixed interval




                                           VMBMETEO PROTOCOL – edition 3                            20
            (5 = auto send when changed with minimum 1 minute time interval)
            (6 = auto send when 3.125% changed on rain, light or wind with min. 1minute time interval)
            (7 = auto send when 6.25% changed on rain, light or wind with min. 1 minute time interval)
            (8 = auto send when 12.5% changed on rain, light or wind with min. 1 minute time interval)
            (9 = auto send when 25% changed on rain, light or wind with minimum 1 minute time interval)
            1…4 = auto send disabled
            0 = no change on auto send interval

Program selection
       Contents         Selected program
           0                None
           1                Group 1
           2                Group 2
           3                Group 3

Alarm output program disabled/enabled flags
       Contents         program enabled/disabled for alarm output
      B’xxxxxxx0’           Programs enabled for alarm output 1
      B’xxxxxxx1’           Programs disabled for alarm output 1
      B’xxxxxx0x’           Programs enabled for alarm output 2
      B’xxxxxx1x’           Programs disabled for alarm output 2
      B’xxxxx0xx’           Programs enabled for alarm output 3
      B’xxxxx1xx’           Programs disabled for alarm output 3
      B’xxxx0xxx’           Programs enabled for alarm output 4
      B’xxxx1xxx’           Programs disabled for alarm output 4
      B’xxx0xxxx’           Programs enabled for alarm output 5
      B’xxx1xxxx’           Programs disabled for alarm output 5
      B’xx0xxxxx’           Programs enabled for alarm output 6
      B’xx1xxxxx’           Programs disabled for alarm output 6
      B’x0xxxxxx’           Programs enabled for alarm output 7
      B’x1xxxxxx’           Programs disabled for alarm output 7
      B’0xxxxxxx’           Programs enabled for alarm output 8
      B’1xxxxxxx’           Programs disabled for alarm output 8

Alarm output locked/unlocked flags
       Contents         Alarm output locked/unlocked
      B’xxxxxxx0’           Alarm output 1 unlocked
      B’xxxxxxx1’           Alarm output 1 locked
      B’xxxxxx0x’           Alarm output 2 unlocked
      B’xxxxxx1x’           Alarm output 2 locked
      B’xxxxx0xx’           Alarm output 3 unlocked
      B’xxxxx1xx’           Alarm output 3 locked
      B’xxxx0xxx’           Alarm output 4 unlocked
      B’xxxx1xxx’           Alarm output 4 locked
      B’xxx0xxxx’           Alarm output 5 unlocked
      B’xxx1xxxx’           Alarm output 5 locked
      B’xx0xxxxx’           Alarm output 6 unlocked
      B’xx1xxxxx’           Alarm output 6 locked
      B’x0xxxxxx’           Alarm output 7 unlocked
      B’x1xxxxxx’           Alarm output 7 locked
      B’0xxxxxxx’           Alarm output 8 unlocked
      B’1xxxxxxx’           Alarm output 8 locked




                         VMBMETEO PROTOCOL – edition 3                                              21
Address    Contents                                     Address       Contents
0x0100     Linked Push button 1 module address          0x0101        Linked Push button 1 bit number
0x0102     Linked Push button 1 action                  0x0103        Linked Push button 1 time parameter
0x0104     Linked Push button 1 channel parameter       ...
...        ...                                          ...           ...
0x01FA     Linked Push button 51 module address         0x01FB        Linked Push button 51 bit number
0x01FC     Linked Push button 51 action                 0x01FD        Linked Push button 51 time parameter
0x01FE     Linked Push button 51 channel parameter      0x01FF        Not used

Remark: Unused locations contain H’FF’

          Action
            Action       Action                                            Time           Bit number
            number                                                         parameter
            0            Lock channel at closed switch                     -              Channel bit
            1            Lock channel at opened switch                     -              Channel bit
            2            Lock channel                                      Timeout        Channel bit
            3            Lock/unlock channel                               Timeout        Channel bit
            4            Unlock channel                                    -              Channel bit
            5            Disable channel program at closed switch          -              Channel bit
            6            Disable channel program at opened switch          -              Channel bit
            7            Disable channel program                           Timeout        Channel bit
            8            Disable/enable channel program                    Timeout        Channel bit
            9            Enable channel program                            -              Channel bit
            10           Select no programs                                -              -
            11           Select program group 1 (e.g. summer programs)     -              -
            12           Select/deselect program group 1 (e.g. summer      -              -
                         programs)
            13           Select program group 2 (e.g. winter programs)     -              -
            14           Select/deselect program group 2 (e.g. winter      -              -
                         programs)
            15           Select program group 3 (e.g. holiday programs)    -              -
            16           Select/deselect program group 3 (e.g. holiday     -              -
                         programs)
            17           Enable Clock Alarm 1 at closed switch             -              -
            18           Enable Clock Alarm 1 at open switch               -              -
            19           Disable Clock Alarm 1 at closed switch            -              -
            20           Disable Clock Alarm 1 at open switch              -              -
            21           Enable Clock Alarm 1                              -              -
            22           Enable/Disable Clock Alarm 1                      -              -
            23           Disable Clock Alarm 1                             -              -
            24           Enable Clock Alarm 2 at closed switch             -              -
            25           Enable Clock Alarm 2 at open switch               -              -
            26           Disable Clock Alarm 2 at closed switch            -              -
            27           Disable Clock Alarm 2 at open switch              -              -
            28           Enable Clock Alarm 2                              -              -
            29           Enable/Disable Clock Alarm 2                      -              -
            30           Disable Clock Alarm 2                             -              -
            31           Enable Sunrise at closed switch                   -              -
            32           Enable Sunrise at open switch                     -              -
            33           Disable Sunrise at closed switch                  -              -
            34           Disable Sunrise at open switch                    -              -
            35           Enable Sunrise                                    -              -
            36           Enable/Disable Sunrise                            -              -
            37           Disable Sunrise                                   -              -
            38           Enable Sunset at closed switch                    -              -
            39           Enable Sunset at open switch                      -              -
            40           Disable Sunset at closed switch                   -              -
            41           Disable Sunset at open switch                     -              -
            42           Enable Sunset                                     -              -
            43           Enable/Disable Sunset                             -              -
            44           Disable Sunset                                    -              -




                                       VMBMETEO PROTOCOL – edition 3                                         22
Bit Number
       Contents               Bit number
      B’00000001’       Alarm output 1
      B’00000010’       Alarm output 2
      B’00000100’       Alarm output 3
      B’00001000’       Alarm output 4
      B’00010000’       Alarm output 5
      B’00100000’       Alarm output 6
      B’01000000’       Alarm output 7
      B’10000000’       Alarm output 8

Time parameter
   Time parameter   Timeout
            0       0s (No timer)
            1       1s
            2       2s
           ...
          119       1min59s
          120       2min
          121       2min15s
           ...
          131       4min45s
          132       5min
          133       5min30s
           ...
          181       29min30s
          182       30min
          183       31min
           ...
          211       59min
          212       1h
          213       1h15min
           ...
          227       4h45min
          228       5h
          229       5h30min
           ...
          237       9h30min
          238       10h
          239       11h
           ...
          251       23h
          252       1d
          253       2d
          254       3d
          255       Infinite




                      VMBMETEO PROTOCOL – edition 3   23
Address    Contents                                     Address      Contents
0x0200     Program step 1 byte1                         0x0201       Program step 1 byte2
0x0202     Program step 1 byte3                         0x0203       Program step 1 byte4
0x0204     Program step 1 byte5                         0x0205       Program step 1 byte6
…          …                                            …            …
0x02F6     Program step 42 byte1                        0x02F7       Program step 42 byte2
0x02F8     Program step 42 byte3                        0x02F9       Program step 42 byte4
0x02FA     Program step 42 byte5                        0x02FB       Program step 42 byte6
0x02FC     Not used                                     0c02FD       Not used
0x02FE     Not used                                     0x02FF       Not used


            Contents program byte1             Description
                 B’000xxxxx’                   Disable program step
                 B’001xxxxx’                   Absolute time
                 B’010xxxxx’                   Wake up time 1 + relative time
                 B’011xxxxx’                   Go to bed time 1 + relative time
                 B’100xxxxx’                   Wake up time 2 + relative time
                 B’101xxxxx’                   Go to bed time 2 + relative time
                 B’110xxxxx’                   Sunrise + relative time
                 B’111xxxxx’                   Sunset + relative time
                 B’xxx01111’                   Rel. time = 3h45min
                      …
                 B’xxx00001’                   Rel. time = 15min
                 B’xxx00000’                   Rel. time = 0
                 B’xxx11111’                   Rel. time = -15min
                      …
                 B’xxx10000’                   Rel. time = -4h
  Remark: Wake up, Go to bed, sunrise & sunset time are only allowed for weekly programs

            Contents program byte2             Description
                 B’xxxx0000’                   Weekly program
                 B’xxxx0001’                   January
                 B’xxxx0010’                   February
                 B’xxxx0011’                   March
                 B’xxxx0100’                   April
                 B’xxxx0101’                   May
                 B’xxxx0110’                   June
                 B’xxxx0111’                   July
                 B’xxxx1000’                   August
                 B’xxxx1001’                   September
                 B’xxxx1010’                   October
                 B’xxxx1011’                   November
                 B’xxxx1100’                   December
                 B’xxxx1101’                   Monthly program
                 B’xxxx1110’                   Monthly program
                 B’xxxx1111’                   Monthly program

            Contents program byte3             Description
                 B’xxx00000’                   0h
                 B’xxx00001’                   1h
                      …                        …
                 B’xxx10111’                   23h
                 B’xx1xxxxx’                   Program group 1
                 B’x1xxxxxx’                   Program group 2
                 B’1xxxxxxx’                   Program group3

            Contents program byte4             Description
                 B’xx000000’                   0min
                 B’xx000001’                   1min
                      …                        …
                 B’xx111011’                   59min


                                       VMBMETEO PROTOCOL – edition 3                         24
Contents program byte4               Contents program byte2   Description
     B’00xxxxxx’                          B’0000xxxx’         Never
     B’00xxxxxx’                          B’0001xxxx’         Day 1of the month
     B’00xxxxxx’                          B’0010xxxx’         Day 2of the month
          …                                    …              …
     B’01xxxxxx’                          B’1111xxxx’         Day 31of the month
     B’10xxxxxx’                          B’0000xxxx’         Never
     B’10xxxxxx’                          B’0001xxxx’         Every Monday
     B’10xxxxxx’                          B’0010xxxx’         Every Tuesday
          …                                    …              …
     B’10xxxxxx’                          B’0111xxxx’         Every Sunday
     B’10xxxxxx’                          B’1000xxxx’         Every weekend (sa & su)
     B’10xxxxxx’                          B’1001xxxx’         Every working day (mo…fr)
     B’10xxxxxx’                          B’1010xxxx’         Every day except Sunday
     B’10xxxxxx’                          B’1011xxxx’         Every day
     B’10xxxxxx’                          B’1100xxxx’         Never
          …                                    …              …
     B’11xxxxxx’                          B’1111xxxx’         Never

Contents program byte5         Action
           0                   Unlock
           1                   Lock


Contents program byte6         Channel
     B’00000001’               Alarm output 1
     B’00000010’               Alarm output 2
     B’00000100’               Alarm output 3
     B’00001000’               Alarm output 4
     B’00010000’               Alarm output 5
     B’00100000’               Alarm output 6
     B’01000000’               Alarm output 7
     B’10000000’               Alarm output 8




                         VMBMETEO PROTOCOL – edition 3                                    25
0x0300   Alarm condition 1 flags                                 0x0301      Alarm condition 1 ‘On’ limit low byte
0x0302   Alarm condition 1 ‘On’ limit high byte                  0x0303      Alarm condition 1 ‘Off’ limit low byte
0x0304   Alarm condition 1 ‘Off’ limit high byte                 0x0305      Alarm condition 1 ‘Off-to-On’ reaction time
0x0306   Alarm condition 1 ‘On-to-Off’ reaction time             0x0307      …
         …                                                                   …
0x03A0   …                                                       0x03A1      Alarm condition 24 setting flags
0x03A2   Alarm condition 24 ‘On’ limit low byte                  0x03A3      Alarm condition 24 ‘On’ limit high byte
0x03A4   Alarm condition 24 ‘Off’ limit low byte                 0x03A5      Alarm condition 24 ‘Off’ limit high byte
0x03A6   Alarm condition 24 ‘Off-to-On’ reaction time            0x03A7      Alarm condition 24 ‘On-to-Off’ reaction time

               Alarm condition flag
                       Contents            Alarm settings flags
                     B’xxxxxx00’               Temperature alarm type
                     B’xxxxxx01’               Rain intensity alarm type
                     B’xxxxxx10’               Light alarm type
                     B’xxxxxx11’               Wind speed alarm type
                     B’xxxxx0xx’               ‘Greater or equal than’ alarm type (normal)
                     B’xxxxx1xx’               ‘Less than’ alarm type (inverted)
                     B’xxxx0xxx’               Logical OR alarm operator
                     B’xxxx1xxx’               Logical AND alarm operator
                     B’0000xxxx’               Assigned to alarm output 1
                     B’0001xxxx’               Assigned to alarm output 2
                     B’0010xxxx’               Assigned to alarm output 3
                     B’0011xxxx’               Assigned to alarm output 4
                     B’0100xxxx’               Assigned to alarm output 5
                     B’x101xxxx’               Assigned to alarm output 6
                     B’0110xxxx’               Assigned to alarm output 7
                     B’0111xxxx’               Assigned to alarm output 8
                     B’1xxxxxxx’               End of alarm

               Temperature alarm ‘On’ and ‘Off’ limit setting = (TempAlarm + 55)*512
                 High byte    Low byte      Temperature alarm
                 11101101     11100000      63.5°C

                  01101110       00100000         0.0625°C
                  01101110       00000000         0°C
                  01101101       11100000         -0.0625°C

                  00000000       00000000         -55°C

               Rain alarm ‘On’ and ‘Off’ limit setting = RainAlarm*10
                 High byte    Low byte         Rain alarm
                 0x00         0x00             0.0 mm/h
                 0x00         0x01             0.1 mm/h
                 0x00         0x02             0.2 mm/h
                 …            …                …
                 0x00         0x64             10.0 mm/h
                 …            …

               Light alarm ‘On’ and ‘Off’ limit setting
                  High byte   Low byte         Light alarm
                  0x00        0x00             0 lux
                  0x00        0x01             1 lux
                  0x00        0x02             2 lux
                  …           …                …
                  0x00        0x64             100 lux
                  …           …
                  0xFF        0xFF             65535 lux




                                             VMBMETEO PROTOCOL – edition 3                                                  26
Wind alarm ‘On’ and ‘Off’ limit setting = WindAlarm * 10
  High byte   Low byte         Wind alarm
  0x00        0x00             0.0 km/h
  0x00        0x01             0.1 km/h
  0x00        0x02             0.2 km/h
  …           …                …
  0x00        0x64             10.0 km/h
  …           …

Alarm condition ‘Off-to-On’ and ‘On-to-Off’ reaction times
        contents            Reaction time
            0               0s
            1               1s
            2               2s
           ...
           59               59s
           60               1min
           61               1min1s
           ...
           …
          119               1min59s
          120               2min
          121               2min15s
           ...
          131               4min45s
          132               5min
          133               5min30s
           ...
          181               29min30s
          182               30min
          183               31min
           ...
          211               59min
          212               1h




                          VMBMETEO PROTOCOL – edition 3      27
0x03A8   Location id low byte                              0x03A9    Location id high byte
0x03AA   Group id low byte                                 0x03AB    Group id high byte
0x03AC   Not used                                          0x03AD    Not used
0x03AE   Not used                                          0x03AF    Not used
0x03B0   Temperature sensor name character 1               0x03B1    Temperature sensor name character 2
…        ..                                                ..        ..
0x03BE   Temperature sensor e name character 51            0x03BF    Temperature sensor name character 52
0x03C0   Module name character 1                           0x03C1    Module name character 2
…        ..                                                ..        ..
0x03FE   Module name character 63                          0x03FF    Module name character 64




                                            VMBMETEO PROTOCOL – edition 3                                   28
