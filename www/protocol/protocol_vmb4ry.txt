     VMB4RY
4 channel relay module for VELBUS
              system




           VMB1RY PROTOCOL – edition 1 _ rev7   1
Binairy format:
<SOF-SID10...SID0-RTR-IDE-r0-DLC3...0-DATABYTE1...DATABYTEn-CRC14...CRC1-CRCDEL-ACK-ACKDEL-
EOF7...EOF1-IFS3...IFS1>
   bits                         Description
   SOF                          Start Of Frame (always 0)
   SID10 & SID9                 Priority (00: highest … 11: lowest priority)
   SID8…SID1                    Address
   SID0                         Always 0
   RTR                          Remote Transmit Request
   IDE                          Identifier Extension (always 0)
   R0                           reserved (always 0)
   DLC3…DLC0                    Data Length Code (0…8)
   Databyte1                    Command
   Databyte2                    Parameter
   Databyte3                    Parameter
   Databyte4                    Parameter
   Databyte5                    Parameter
   Databyte6                    Parameter
   Databyte7                    Parameter
   Databyte8                    Parameter
   CRC14…CRC1                   Cyclic Redundancy Checksum
   CRCDEL                       CRC Delimiter (always 1)
   ACK                          Acknowledge slot (transmit 1 readback 0 if received correctly)
   ACKDEL                       Acknowledge Delimiter (always 1)
   EOF7...EOF1                  End Of Frame (always 1111111)
   IFS3...IFS1                  InterFrame Space (always 111)

The relay module can transmit the following commands:
 • Updates LEDs on a push button module
 • Clears LEDs on a push button module
 • Sets LEDs on a push button module
 • Blinks LEDs slowly on a push button module
 • Blinks LEDs fast on a push button module
 • Blinks LEDs very fast on a push button module

The relay module can transmit the following messages:
 • Relay status
 • Push buttons & relays switch status (Build 0817 or higher)
 • Module type
 • Bus error counter status (Build 0647 or higher)
 • First, second and third part of the relay name
 • First, second and third part of the local mode push button names (Build 0817 or higher)
 • Memory data
 • Memory data block (4 bytes) (Build 0735 or higher)

The relay module can receive the following messages:
 • Push button status

The relay module can receive the following commands:
 • Switch relay off
 • Switch relay on
 • Start relay timer
 • Start relay blinking timer
 • Forced off relay (Build 1105 or higher)
 • Cancel forced off relay (Build 1105 or higher)
 • Forced on relay (Build 1105 or higher)
 • Cancel forced on relay (Build 1105 or higher)
 • Inhibit relay (Build 1105 or higher)
 • Cancel inhibit relay (Build 1105 or higher)



                                          VMB1RY PROTOCOL – edition 1 _ rev7                     2
  •   Relay status request
  •   Clear Push button Led (Build 0811 or higher)
  •   Module type request
  •   Bus error counter status request (Build 0647 or higher)
  •   Relay and/or push button name request (Build 0817 or higher)
  •   Read memory data
  •   Read memory data block (4 bytes) (Build 0742 or higher)
  •   Memory dump request (Build 0735 or higher)
  •   Write memory data
  •   Write memory data block (4 bytes) (Build 0742 or higher)




Transmits the push button & relay switch status: (Build 0817 or higher)
    SID10-SID9 = 00 (highest priority)
    SID8...SID1 = Address set by hex switches
    RTR = 0
    DLC3...DLC0 = 4 databytes to send
    DATABYTE1 = COMMAND_PUSH_BUTTON_STATUS (H’00’)
    DATABYTE2 = Local mode push buttons just pressed / relays just switched on (1 = just pressed / switched on)
    DATABYTE3 = Local mode push buttons just released / relays just switched off (1 = just released / switched off)
    DATABYTE4 = Local mode push buttons long pressed (1 = longer than 0.85s pressed)
                                                                        Databyte2           Databyte3        Databyte4
                           Relay channel 1 just switched on             B’xxxxxxx1’        B’xxxxxxx0’       B’xxxxxxx0’
                           Relay channel 1 just switched off            B’xxxxxxx0’        B’000x0001’       B’xxxxxxx0’
                     Local Mode Push button channel 1 just pressed      B’xxx1xxxx’        B’xxx0xxxx’       B’xxx0xxxx’
                  Local Mode Push button channel 1 just long pressed    B’xxx0xxxx’        B’xxx0xxxx’       B’xxx1xxxx’
                    Local Mode Push button channel 1 just released      B’xxx0xxxx’        B’xxx1xxxx’       B’xxx0xxxx’
                           Relay channel 2 just switched on             B’xxxxxx1x’        B’xxxxxx0x’       B’xxxxxx0x’
                           Relay channel 2 just switched off            B’xxxxxx0x’        B’xxxxxx1x’       B’xxxxxx0x’
                     Local Mode Push button channel 2 just pressed      B’xx1xxxxx’        B’xx0xxxxx’       B’xx0xxxxx’
                  Local Mode Push button channel 2 just long pressed    B’xx0xxxxx’        B’xx0xxxxx’       B’xx1xxxxx’
                    Local Mode Push button channel 2 just released      B’xx0xxxxx’        B’xx1xxxxx’       B’xx0xxxxx’
                           Relay channel 3 just switched on             B’xxxxx1xx’        B’xxxxx0xx’       B’xxxxx0xx’
                           Relay channel 3 just switched off            B’xxxxx0xx’        B’xxxxx1xx’       B’xxxxx0xx’
                     Local Mode Push button channel 3 just pressed      B’x1xxxxxx’        B’x0xxxxxx’       B’x0xxxxxx’
                  Local Mode Push button channel 3 just long pressed    B’x0xxxxxx’        B’x0xxxxxx’       B’x1xxxxxx’
                    Local Mode Push button channel 3 just released      B’x0xxxxxx’        B’x1xxxxxx’       B’x0xxxxxx’
                           Relay channel 4 just switched on             B’xxxx1xxx’        B’xxxx0xxx’       B’xxxx0xxx’
                           Relay channel 4 just switched off            B’xxxx0xxx’        B’xxxx1xxx’       B’xxxx0xxx’
                     Local Mode Push button channel 4 just pressed      B’1xxxxxxx’        B’0xxxxxxx’       B’0xxxxxxx’
                  Local Mode Push button channel 4 just long pressed    B’0xxxxxxx’        B’0xxxxxxx’       B’1xxxxxxx’
                    Local Mode Push button channel 4 just released      B’0xxxxxxx’        B’1xxxxxxx’       B’0xxxxxxx’


Transmit: Updates LEDs on a push button module:
   SID10-SID9 = 11 (lowest priority)
   SID8...SID1 = Address of the push button module for updating the LEDs
   RTR = 0
   DLC3...DLC0 = 4 databytes to send
   DATABYTE1 = COMMAND_UPDATE_LED (H’F4’)
   DATABYTE2 = LED continuous on status (1 = LED on)
   DATABYTE3 = LED slow blinking status (1 = LED slow blinking)
   DATABYTE4 = LED fast blinking status (1 = LED fast blinking)

      Remarks:
      The continuous on bit overrides the blinking modes.
      If the slow and fast blinking bits for a LED are both on, the LED blinks very fast.




                                             VMB1RY PROTOCOL – edition 1 _ rev7                                       3
Transmit: Clears LEDs on a push button module:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address of the push button module for clearing LEDs
    RTR = 0
    DLC3...DLC0 = 2 databytes to send
    DATABYTE1 = COMMAND_CLEAR_LED (H’F5’)
    DATABYTE2 = LED bit numbers (1 = clear LED)

Transmit: Sets LEDs on a push button module:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address of the push button module for setting LEDs on
    RTR = 0
    DLC3...DLC0 = 2 databytes to send
    DATABYTE1 = COMMAND_SET_LED (H’F6’)
    DATABYTE2 = LED bit numbers (1 = set LED)

Transmit: Blinks LEDs slowly on a push button module:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address of the push button module for slowly blinking LEDs
    RTR = 0
    DLC3...DLC0 = 2 databytes to send
    DATABYTE1 = COMMAND_SLOW_BLINKING_LED (H’F7’)
    DATABYTE2 = LED bit numbers (1 = slow blink LED)


Transmit: Blinks LEDs fast on a push button module:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address of the push button module for fast blinking LEDs
    RTR = 0
    DLC3...DLC0 = 2 databytes to send
    DATABYTE1 = COMMAND_FAST_BLINKING_LED (H’F8’)
    DATABYTE2 = LED bit numbers (1 = fast blink LED)


Transmit: Blinks LEDs very fast on a push button module:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address of the push button module for very fast blinking LEDs
    RTR = 0
    DLC3...DLC0 = 2 databytes to send
    DATABYTE1 = COMMAND_VERYFAST_BLINKING_LED (H’F9’)
    DATABYTE2 = LED bit numbers (1 = very fast blink LED)


Transmit: Bus error counter status (Build 0647 or higher)
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address set by hex switches
    RTR = 0
    DLC3...DLC0 = 4 databytes to send
    DATABYTE1 = COMMAND_BUSERROR_COUNTER_STATUS (H’DA’)
    DATABYTE2 = Transmit error counter
    DATABYTE3 = Receive error counter
    DATABYTE4 = Bus off counter




                                         VMB1RY PROTOCOL – edition 1 _ rev7       4
Transmits the relay status:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address set by hex switches
    RTR = 0
    DLC3...DLC0 = 8 databytes to send
    DATABYTE1 = COMMAND_RELAY_STATUS (H’FB’)
    DATABYTE2 = Relay bit number
                        Contents       Relay number
                  B’00000001’          Channel 1
                  B’00000010’          Channel 2
                  B’00000100’          Channel 3
                  B’00001000’          Channel 4
    DATABYTE3 = Mode setting
                        Contents       Mode
                        0              Start/stop timer
                        1              Staircase timer
                        2              Non-retriggerable timer
                        3              Turn-off delay
                        4              Turn-on delay
                        5              Timer triggered on release
                        6              Blinking timer
                        7              Dual timer
    DATABYTE4 = Relay status
                        Contents       Relay status
                  B’00000000’          Relays off
                  B’00000001’          Relay channel 1 on
                  B’00000010’          Relay channel 2 on
                  B’00000100’          Relay channel 3 on
                  B’00001000’          Relay channel 4 on
                  B’00010001’          Relay channel 1 blinks
                  B’00100010’          Relay channel 2 blinks
                  B’01000100’          Relay channel 3 blinks
                  B’10001000’          Relay channel 4 blinks
    DATABYTE5 = Led status
                  Contents             Mode
                  B’00000000’          LED off
                  B’10000000’          LED on
                  B’01000000’          LED slow blinking
                  B’00100000’          LED fast blinking
                  B’00010000’          LED very fast blinking
    DATABYTE6 = high byte of current delay time
    DATABYTE7 = mid byte of current delay time
    DATABYTE8 = low byte of current delay time

    Remark:
    [DATABYTE6][DATABYTE7][DATABYTE8] contain a 24-bit time in seconds




                                         VMB1RY PROTOCOL – edition 1 _ rev7   5
   Transmits the module type:
   SID10-SID9 = 11 (lowest priority)
   SID8...SID1 = Address set by hex switches
   RTR = 0
   DLC3...DLC0 = 8 databytes to send
   DATABYTE1 = COMMAND_MODULE_TYPE (H’FF’)
   DATABYTE2 = 4_CHANNEL_RELAY_MODULE_TYPE (H’08’)
   DATABYTE3 = Channel 1 hex switch setting (low nibble = Time1 / high nibble = Mode/Time2 setting)
   DATABYTE4 = Channel 2 hex switch setting (low nibble = Time1 / high nibble = Mode/Time2 setting)
   DATABYTE5 = Channel 3 hex switch setting (low nibble = Time1 / high nibble = Mode/Time2 setting)
   DATABYTE6 = Channel 4 hex switch setting (low nibble = Time1 / high nibble = Mode/Time2 setting)
                     High nibble         Mode/Time2                   Low nibble      Time2
                          0              Start/stop timer                   0         Momentary
                          1              Staircase timer                    1         5s
                          2              Non-retriggerable timer            2         10s
                          3              Turn-off delay                     3         14s
                          4              Turn-on delay                      4         30s
                          5              Timer triggered on release         5         1min
                          6              Blinking timer                     6         2min
                          7              Dual timer (time 2 = 5min)         7         5min
                          8              Dual timer (time 2 = 10min)        8         10min
                          9              Dual timer (time 2 = 14min)        9         14min
                          A              Dual timer (time 2 = 30min)        A         30min
                          B              Dual timer (time 2 = 1h)           B         1h
                          C              Dual timer (time 2 = 2h)           C         2h
                          D              Dual timer (time 2 = 5h)           D         5h
                          E              Dual timer (time 2 = 1day)         E         1day
                          F              Dual timer (time 2 = on/off)       F         On/off
   DATABYTE7 = Build year (Build 0647 or higher)
   DATABYTE8 = Build week (Build 0647 or higher)

Transmits the memory data:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address set by hex switches
    RTR = 0
    DLC3...DLC0 = 4 databytes to send
    DATABYTE1 = COMMAND_MEMORY_DATA (H’FE’)
    DATABYTE2 = High memory address
                  High address         Memory bank
                     H’00’             For channel 1 data
                     H’01’             For channel 2 data
                     H’02’             For channel 3 data
                     H’03’             For channel 4 data
    DATABYTE3 = LOW memory address (H’00’...H’FF’)
    DATABYTE4 = memory data

Transmits memory data block (4 bytes) (Build 0735 or higher):
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address of the module
    RTR = 0
    DLC3...DLC0 = 7 databytes to send
    DATABYTE1 = COMMAND_MEMORY_DATA_BLOCK (H’CC’)
    DATABYTE2 = High start address of memory block
    DATABYTE3 = LOW start address of memory block
    DATABYTE4 = memory data1
    DATABYTE5 = memory data2
    DATABYTE6 = memory data3
    DATABYTE7 = memory data4

   Remark: address range: H’0000’ to H’03FC’




                                      VMB1RY PROTOCOL – edition 1 _ rev7                              6
Transmits the first part of the relay name:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address set by hex switches
    RTR = 0
    DLC3...DLC0 = 8 databytes to send
    DATABYTE1 = COMMAND_RELAY_NAME_PART1 (H’F0’)
    DATABYTE2 = Relay bit number
                        Contents         Relay number
                    B’00000001’          Channel 1
                    B’00000010’          Channel 2
                    B’00000100’          Channel 3
                    B’00001000’          Channel 4
    DATABYTE3 = Character 1 of the relay name
    DATABYTE4 = Character 2 of the relay name
    DATABYTE5 = Character 3 of the relay name
    DATABYTE6 = Character 4 of the relay name
    DATABYTE7 = Character 5 of the relay name
    DATABYTE8 = Character 6 of the relay name

Transmits the second part of the relay name:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address set by hex switches
    RTR = 0
    DLC3...DLC0 = 8 databytes to send
    DATABYTE1 = COMMAND_RELAY_NAME_PART2 (H’F1’)
    DATABYTE2 = Relay bit number
                      Contents           Relay number
                  B’00000001’            Channel 1
                  B’00000010’            Channel 2
                  B’00000100’            Channel 3
                  B’00001000’            Channel 4
    DATABYTE3 = Character 7 of the relay name
    DATABYTE4 = Character 8 of the relay name
    DATABYTE5 = Character 9 of the relay name
    DATABYTE6 = Character 10 of the relay name
    DATABYTE7 = Character 11 of the relay name
    DATABYTE8 = Character 12 of the relay name

Transmits the third part of the relay name:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address set by hex switches
    RTR = 0
    DLC3...DLC0 = 6 databytes to send
    DATABYTE1 = COMMAND_RELAY_NAME_PART3 (H’F2’)
    DATABYTE2 = Relay bit number
                       Contents          Relay number
                   B’00000001’           Channel 1
                   B’00000010’           Channel 2
                   B’00000100’           Channel 3
                   B’00001000’           Channel 4
    DATABYTE3 = Character 13 of the relay name
    DATABYTE4 = Character 14 of the relay name
    DATABYTE5 = Character 14 of the relay name
    DATABYTE6 = Character 16 of the relay name

   Remarks:
   Unused characters contain H’FF’.




                                      VMB1RY PROTOCOL – edition 1 _ rev7   7
Transmits the first part of the local mode push button name: (Build 0817or higher)
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address set by hex switches
    RTR = 0
    DLC3...DLC0 = 8 databytes to send
    DATABYTE1 = COMMAND_PUSH_BUTTON_NAME_PART1 (H’F0’)
    DATABYTE2 = Push button identifier bit
                        Contents          Push button number
                    B’00010000’           Channel 1
                    B’00100000’           Channel 2
                    B’01000000’           Channel 3
                    B’10000000’           Channel 4
    DATABYTE3 = Character 1 of the push button name
    DATABYTE4 = Character 2 of the push button name
    DATABYTE5 = Character 3 of the push button name
    DATABYTE6 = Character 4 of the push button name
    DATABYTE7 = Character 5 of the push button name
    DATABYTE8 = Character 6 of the push button name

Transmits the second part of the local mode push button name: (Build 0817or higher)
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address set by hex switches
    RTR = 0
    DLC3...DLC0 = 8 databytes to send
    DATABYTE1 = COMMAND_PUSH_BUTTON_NAME_PART2 (H’F1’)
    DATABYTE2 = Push button identifier bit
                      Contents          Push button number
                  B’00010000’           Channel 1
                  B’00100000’           Channel 2
                  B’01000000’           Channel 3
                  B’10000000’           Channel 4
    DATABYTE3 = Character 7 of the push button name
    DATABYTE4 = Character 8 of the push button name
    DATABYTE5 = Character 9 of the push button name
    DATABYTE6 = Character 10 of the push button name
    DATABYTE7 = Character 11 of the push button name
    DATABYTE8 = Character 12 of the push button name

Transmits the third part of the local mode push button name: (Build 0817or higher)
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address set by hex switches
    RTR = 0
    DLC3...DLC0 = 6 databytes to send
    DATABYTE1 = COMMAND_PUSH_BUTTON_NAME_PART3 (H’F2’)
    DATABYTE2 = Push button identifier bit
                       Contents          Push button number
                   B’00010000’           Channel 1
                   B’00100000’           Channel 2
                   B’01000000’           Channel 3
                   B’10000000’           Channel 4
    DATABYTE3 = Character 13 of the push button name
    DATABYTE4 = Character 14 of the push button name
    DATABYTE5 = Character 15 of the push button name
    DATABYTE6 = H’FF’

    Remarks: Unused characters contain H’FF’.




                                         VMB1RY PROTOCOL – edition 1 _ rev7           8
‘Push button status’ received:
    SID10-SID9 = 00 (highest priority)
    SID8...SID1 = Address of the push button module
    RTR = 0
    DLC3...DLC0 = 4 databytes received
    DATABYTE1 = COMMAND_PUSH_BUTTON_STATUS (H’00’)
    DATABYTE2 = Push buttons just pressed (1 = just pressed)
    DATABYTE3 = Push buttons just released (1 = just released)
    DATABYTE4 = Push buttons long pressed (1 = longer than 0.85s pressed)



‘Clear LED’ command received (Build 0811 or higher):
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address of the push button module
    RTR = 0
    DLC3...DLC0 = 2 databytes received
    DATABYTE1 = COMMAND_CLEAR_LED (H’F5’)
    DATABYTE2 = LEDs to clear (a one clears the corresponding LED)



‘Switch relay off’ command received:
    SID10-SID9 = 00 (highest priority)
    SID8...SID1 = Address set by hex switches
    RTR = 0
    DLC3...DLC0 = 2 databytes received
    DATABYTE1 = COMMAND_SWITCH_RELAY_OFF (H’01’)
    DATABYTE2 = Relay bit number
                        Contents       Relay number
                    B’00000001’        Channel 1
                    B’00000010’        Channel 2
                    B’00000100’        Channel 3
                    B’00001000’        Channel 4



‘Switch relay on’ command received:
    SID10-SID9 = 00 (highest priority)
    SID8...SID1 = Address set by hex switches
    RTR = 0
    DLC3...DLC0 = 2 databytes received
    DATABYTE1 = COMMAND_SWITCH_RELAY_ON (H’02’)
    DATABYTE2 = Relay bit number
                       Contents        Relay number
                   B’00000001’         Channel 1
                   B’00000010’         Channel 2
                   B’00000100’         Channel 3
                   B’00001000’         Channel 4




                                       VMB1RY PROTOCOL – edition 1 _ rev7   9
‘Start relay timer’ command received:
    SID10-SID9 = 00 (highest priority)
    SID8...SID1 = Address set by hex switches
    RTR = 0
    DLC3...DLC0 = 5 databytes received
    DATABYTE1 = COMMAND_START_RELAY_TIMER (H’03’)
    DATABYTE2 = Relay bit number
                        Contents       Relay number
                    B’00000001’        Channel 1
                    B’00000010’        Channel 2
                    B’00000100’        Channel 3
                    B’00001000’        Channel 4
    DATABYTE3 = high byte of delay time
    DATABYTE4 = mid byte of delay time
    DATABYTE5 = low byte of delay time

   Remark:
   [DATABYTE3][DATABYTE4][DATABYTE5] contain a 24-bit time in seconds
   If the time parameter contains zero then the timer starts for a time set by the hex switches on the relay module. If the hex
   switches are set at momentary mode there will be no action. If the hex switches are set at toggle mode, the relay switches
   permanently on.
   If the time parameter contains H’FFFFFF’ then the relay switches permanently on.


‘Start relay blinking timer’ command received:
    SID10-SID9 = 00 (highest priority)
    SID8...SID1 = Address set by hex switches
    RTR = 0
    DLC3...DLC0 = 5 databytes received
    DATABYTE1 = COMMAND_START_BLINK_RELAY_TIMER (H’0D’)
    DATABYTE2 = Relay bit number
                         Contents       Relay number
                    B’00000001’         Channel 1
                    B’00000010’         Channel 2
                    B’00000100’         Channel 3
                    B’00001000’         Channel 4
    DATABYTE3 = high byte of delay time
    DATABYTE4 = mid byte of delay time
    DATABYTE5 = low byte of delay time

   Remark:
   [DATABYTE3][DATABYTE4][DATABYTE5] contain a 24-bit time in seconds
   If the time parameter contains zero then the timer starts for a time set by the hex switches on the relay module. If the hex
   switches are set at momentary mode there will be no action. If the hex switches are set at toggle mode, the relay switches
   permanently on.
   If the time parameter contains H’FFFFFF’ then the relay switches permanently on.

‘Forced off’ command received (Build 1105 or higher):
    SID10-SID9 = 00 (highest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 5 databytes received
    DATABYTE1 = COMMAND_FORCED_OFF (H’12’)
    DATABYTE2 = Relay bit number
                      Contents         Relay number
                  B’00000001’          Channel 1
                  B’00000010’          Channel 2
                  B’00000100’          Channel 3
                  B’00001000’          Channel 4
    DATABYTE3 = high byte of delay time
    DATABYTE4 = mid byte of delay time
    DATABYTE5 = low byte of delay time

   Remark:



                                          VMB1RY PROTOCOL – edition 1 _ rev7                                                10
   [DATABYTE3][DATABYTE4][DATABYTE5] contain a 24-bit time in seconds
   The command will be skipped when the time parameter contains zero.
   When the time parameter contains H’FFFFFF’ then the relays are permanently forced off.

‘Cancel forced off’ command received (Build 1105 or higher):
   SID10-SID9 = 00 (highest priority)
   SID8...SID1 = Module address
   RTR = 0
   DLC3...DLC0 = 2 databytes received
    DATABYTE1 = COMMAND_CANCEL_FORCED_OFF (H’13’)
    DATABYTE2 = Relay bit number
                       Contents        Relay number
                   B’00000001’         Channel 1
                   B’00000010’         Channel 2
                   B’00000100’         Channel 3
                   B’00001000’         Channel 4

‘Forced on’ command received (Build 1105 or higher):
   SID10-SID9 = 00 (highest priority)
   SID8...SID1 = Module address
   RTR = 0
   DLC3...DLC0 = 5 databytes received
   DATABYTE1 = COMMAND_FORCED_ON (H’14’)
   DATABYTE2 = Relay bit number
                     Contents         Relay number
                 B’00000001’          Channel 1
                 B’00000010’          Channel 2
                 B’00000100’          Channel 3
                 B’00001000’          Channel 4
   DATABYTE3 = high byte of delay time
   DATABYTE4 = mid byte of delay time
   DATABYTE5 = low byte of delay time

   Remark:
   [DATABYTE3][DATABYTE4][DATABYTE5] contain a 24-bit time in seconds
   The command will be skipped when the time parameter contains zero or the channels are already forced off.
   When the time parameter contains H’FFFFFF’ then the relays are permanently forced on.

‘Cancel forced on’ command received (Build 1105 or higher):
   SID10-SID9 = 00 (highest priority)
   SID8...SID1 = Module address
   RTR = 0
   DLC3...DLC0 = 2 databytes received
    DATABYTE1 = COMMAND_CANCEL_FORCED_ON (H’15’)
    DATABYTE2 = Relay bit number
                      Contents        Relay number
                  B’00000001’         Channel 1
                  B’00000010’         Channel 2
                  B’00000100’         Channel 3
                  B’00001000’         Channel 4




                                        VMB1RY PROTOCOL – edition 1 _ rev7                                     11
‘Inhibit’ command received (Build 1105 or higher):
    SID10-SID9 = 00 (highest priority)
    SID8...SID1 = Module address
    RTR = 0
    DLC3...DLC0 = 5 databytes received
    DATABYTE1 = COMMAND_INHIBIT (H’16’)
    DATABYTE2 = Relay bit number
                      Contents         Relay number
                  B’00000001’          Channel 1
                  B’00000010’          Channel 2
                  B’00000100’          Channel 3
                  B’00001000’          Channel 4
    DATABYTE3 = high byte of delay time
    DATABYTE4 = mid byte of delay time
    DATABYTE5 = low byte of delay time

    Remark:
    [DATABYTE3][DATABYTE4][DATABYTE5] contain a 24-bit time in seconds
    The command will be skipped when the time parameter contains zero or the channels are already forced off/on.
    When the time parameter contains H’FFFFFF’ then the relays are permanently inhibited.

‘Cancel inhibit’ command received (Build 1105 or higher):
   SID10-SID9 = 00 (highest priority)
   SID8...SID1 = Module address
   RTR = 0
   DLC3...DLC0 = 2 databytes received
    DATABYTE1 = COMMAND_CANCEL_INHIBIT (H’17’)
    DATABYTE2 = Relay bit number
                       Contents        Relay number
                   B’00000001’         Channel 1
                   B’00000010’         Channel 2
                   B’00000100’         Channel 3
                   B’00001000’         Channel 4

‘Relay status request’ command received:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address set by hex switches
    RTR = 0
    DLC3...DLC0 = 2 databytes received
    DATABYTE1 = COMMAND_RELAY_STATUS_REQUEST (H’FA’)
    DATABYTE2 = Relay bit number
                        Contents       Relay number
                   B’00000001’         Channel 1
                   B’00000010’         Channel 2
                   B’00000100’         Channel 3
                   B’00001000’         Channel 4

‘Module type request’ command received:
   SID10-SID9 = 11 (lowest priority)
   SID8...SID1 = Address set by hex switches
   RTR = 1
   DLC3...DLC0 = 0 databytes received




                                         VMB1RY PROTOCOL – edition 1 _ rev7                                        12
‘Relay and/or push button name request’ command received (Build 0817 or higher):
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address set by hex switches
    RTR = 0
    DLC3...DLC0 = 2 databytes received
    DATABYTE1 = COMMAND_RELAY_NAME_REQUEST (H’EF’)
    DATABYTE2 = Relay bit number
                      Contents         channel number
                  B’00000001’          Relay Channel 1
                  B’00000010’          Relay Channel 2
                  B’00000100’          Relay Channel 3
                  B’00001000’          Relay Channel 4
                  B’00010000’          Push button Channel 1
                  B’00100000’          Push button Channel 2
                  B’01000000’          Push button Channel 3
                  B’10000000’          Push button Channel 4



‘Read data from memory’ command received:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address set by hex switches
    RTR = 0
    DLC3...DLC0 = 3 databytes received
    DATABYTE1 = COMMAND_READ_DATA_FROM_MEMORY (H’FD’)
    DATABYTE2 = High memory address
                  High address         Memory bank
                     H’00’             For channel 1 data
                     H’01’             For channel 2 data
                     H’02’             For channel 3 data
                     H’03’             For channel 4 data
    DATABYTE3 = LOW memory address (H’00’...H’FF’)



‘Read data block from memory’ command received: (Build 0742 or higher)
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address set by hex switches
    RTR = 0
    DLC3...DLC0 = 3 databytes received
    DATABYTE1 = COMMAND_READ_MEMORY_BLOCK (H’C9’)
    DATABYTE2 = High memory address
    DATABYTE3 = LOW memory address

    Remark: Valid address range: H’0000’ to H’03FC’



‘Memory dump request’ command received (Build 0735 or higher):
   SID10-SID9 = 11 (lowest priority)
   SID8...SID1 = Address of the module
   RTR = 0
   DLC3...DLC0 = 1 databytes received
   DATABYTE1 = COMMAND_MEMORY_DUMP_REQUEST (H’CB’)




                                       VMB1RY PROTOCOL – edition 1 _ rev7          13
‘Write data to memory’ command received:
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address set by hex switches
    RTR = 0
    DLC3...DLC0 = 4 databytes received
    DATABYTE1 = COMMAND_WRITE_DATA_TO_MEMORY (H’FC’)
    DATABYTE2 = High memory address
                  High address         Memory bank
                      H’00’            For channel 1 data
                      H’01’            For channel 2 data
                      H’02’            For channel 3 data
                      H’03’            For channel 4 data
    DATABYTE3 = LOW memory address (H’00’...H’FF’)
    DATABYTE4 = memory data to write

   Remark: Wait at least 10ms for sending a next command on the velbus.

‘Write memory block’ command received: (Build 0742 or higher)
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address set by hex switches
    RTR = 0
    DLC3...DLC0 = 7 databytes received
    DATABYTE1 = COMMAND_WRITE_MEMORY_BLOCK (H’CA’)
    DATABYTE2 = High memory address
    DATABYTE3 = LOW memory address
    DATABYTE4 = memory databyte1 to write
    DATABYTE5 = memory databyte2 to write
    DATABYTE6 = memory databyte3 to write
    DATABYTE7 = memory databyte4 to write

   Remark:
   Valid address range: H’0000’ to H’03FC’
   Wait for ‘memory data block’ feedback before sending a next command on the velbus.

‘Bus error counter status request’ command received: (Build 0647 or higher)
    SID10-SID9 = 11 (lowest priority)
    SID8...SID1 = Address set by hex switches
    RTR = 0
    DLC3...DLC0 = 1 databytes to send
    DATABYTE1 = COMMAND_BUS_ERROR_CONTER_STATUS_REQUEST (H’D9’)




                                       VMB1RY PROTOCOL – edition 1 _ rev7               14
Memory map Build 0812 or lower:

    Address   Contents                           Address   Contents
    H’0000’   Push button module address         H’0001’   Clear push button 1 bit numbers for channel 1
    ...       ...                                ...       ...
    H’001C’   Push button module address         H’001D’   Clear push button 15 bit numbers for channel 1
    H’001E’   Push button module address         H’001F’   Set push button 1 bit numbers for channel 1
    ...       ...                                ...       ...
    H’003A’   Push button module address         H’003B’   Set push button 15 bit numbers for channel 1
    H’003C’   Push button module address         H’003D’   Toggle push button 1 bit numbers for channel 1
    ...       ...                                ...       ...
    H’0058’   Push button module address         H’0059’   Toggle push button 15 bit numbers for channel 1
    H’005A’   Push button module address         H’005B’   Activate mode push button 1 bit numbers for channel 1
    ...       ...                                ...       ...
    H’0076’   Push button module address         H’0077’   Activate mode push button 15 bit numbers for channel 1
    H’0078’   Push button module address         H’0079’   Toggle timer1 push button 1 bit numbers for channel 1
    ...       ...                                ...       ...
    H’0094’   Push button module address         H’0095’   Toggle timer1 push button 15 bit numbers for channel 1
    H’0096’   Push button module address         H’0097’   Toggle timer2 push button 1 bit numbers for channel 1
    ...       ...                                ...       ...
    H’00B2’   Push button module address         H’00B3’   Toggle timer2 push button 15 bit numbers for channel 1
    H’00B4’   Push button module address         H’00B5’   Start timer1 push button 1 bit numbers for channel 1
    ...       ...                                ...       ...
    H’00D0’   Push button module address         H’00D1’   Start timer1 push button 15 bit numbers for channel 1
    H’00D2’   Push button module address         H’00D3’   Start timer2 push button 1 bit numbers for channel 1
    ...       ...                                ...       ...
    H’00EE’   Push button module address         H’00EF’   Start timer2 push button 15 bit numbers for channel 1
    H’00F0’   Relay channel 1 name character 1   H’00F1’   Relay channel 1 name character 2
    ...       ...                                ...       ...
    H’00FE’   Relay channel 1name character 15   H’00FF’   Relay channel 1 name character 16

    Address   Contents                           Address   Contents
    H’0100’   Push button module address         H’0101’   Clear push button 1 bit numbers for channel 2
    ...       ...                                ...       ...
    H’011C’   Push button module address         H’011D’   Clear push button 15 bit numbers for channel 2
    H’011E’   Push button module address         H’011F’   Set push button 1 bit numbers for channel 2
    ...       ...                                ...       ...
    H’013A’   Push button module address         H’013B’   Set push button 15 bit numbers for channel 2
    H’013C’   Push button module address         H’013D’   Toggle push button 1 bit numbers for channel 2
    ...       ...                                ...       ...
    H’0148’   Push button module address         H’0149’   Toggle push button 15 bit numbers for channel 2
    H’014A’   Push button module address         H’005B’   Activate mode push button 1 bit numbers for channel 2
    ...       ...                                ...       ...
    H’0176’   Push button module address         H’0077’   Activate mode push button 15 bit numbers for channel 2
    H’0178’   Push button module address         H’0179’   Toggle timer1 push button 1 bit numbers for channel 2
    ...       ...                                ...       ...
    H’0194’   Push button module address         H’0195’   Toggle timer1 push button 15 bit numbers for channel 2
    H’0196’   Push button module address         H’0197’   Toggle timer2 push button 1 bit numbers for channel 2
    ...       ...                                ...       ...
    H’01B2’   Push button module address         H’01B3’   Toggle timer2 push button 15 bit numbers for channel 2
    H’01B4’   Push button module address         H’01B5’   Start timer1 push button 1 bit numbers for channel 2
    ...       ...                                ...       ...
    H’01D0’   Push button module address         H’01D1’   Start timer1 push button 15 bit numbers for channel 2
    H’01D2’   Push button module address         H’01D3’   Start timer2 push button 1 bit numbers for channel 2
    ...       ...                                ...       ...
    H’01EE’   Push button module address         H’01EF’   Start timer2 push button 15 bit numbers for channel 2
    H’01F0’   Relay channel 2 name character 1   H’01F1’   Relay channel 2 name character 2
    ...       ...                                ...       ...
    H’01FE’   Relay channel 2name character 15   H’01FF’   Relay channel 2 name character 16




                                       VMB1RY PROTOCOL – edition 1 _ rev7                                           15
 Address     Contents                            Address   Contents
 H’0200’     Push button module address          H’0201’   Clear push button 1 bit numbers for channel 3
 ...         ...                                 ...       ...
 H’021C’     Push button module address          H’021D’   Clear push button 15 bit numbers for channel 3
 H’021E’     Push button module address          H’022F’   Set push button 1 bit numbers for channel 3
 ...         ...                                 ...       ...
 H’023A’     Push button module address          H’023B’   Set push button 15 bit numbers for channel 3
 H’023C’     Push button module address          H’023D’   Toggle push button 1 bit numbers for channel 3
 ...         ...                                 ...       ...
 H’0258’     Push button module address          H’0259’   Toggle push button 15 bit numbers for channel 3
 H’025A’     Push button module address          H’005B’   Activate mode push button 1 bit numbers for channel 3
 ...         ...                                 ...       ...
 H’0276’     Push button module address          H’0077’   Activate mode push button 15 bit numbers for channel 3
 H’0278’     Push button module address          H’0279’   Toggle timer1 push button 1 bit numbers for channel 3
 ...         ...                                 ...       ...
 H’0294’     Push button module address          H’0295’   Toggle timer1 push button 15 bit numbers for channel 3
 H’0296’     Push button module address          H’0297’   Toggle timer2 push button 1 bit numbers for channel 3
 ...         ...                                 ...       ...
 H’02B2’     Push button module address          H’02B3’   Toggle timer2 push button 15 bit numbers for channel 3
 H’02B4’     Push button module address          H’02B5’   Start timer1 push button 1 bit numbers for channel 3
 ...         ...                                 ...       ...
 H’02D0’     Push button module address          H’02D1’   Start timer1 push button 15 bit numbers for channel 3
 H’02D2’     Push button module address          H’02D3’   Start timer2 push button 1 bit numbers for channel 3
 ...         ...                                 ...       ...
 H’02EE’     Push button module address          H’02EF’   Start timer2 push button 15 bit numbers for channel 3
 H’02F0’     Relay channel 3 name character 1    H’02F1’   Relay channel 3 name character 2
 ...         ...                                 ...       ...
 H’02FE’     Relay channel 3 name character 15   H’02FF’   Relay channel 3 name character 16



 Address     Contents                            Address   Contents
 H’0300’     Push button module address          H’0301’   Clear push button 1 bit numbers for channel 4
 ...         ...                                 ...       ...
 H’031C’     Push button module address          H’031D’   Clear push button 15 bit numbers for channel 4
 H’031E’     Push button module address          H’031F’   Set Push button 1 bit numbers for channel 4
 ...         ...                                 ...       ...
 H’033A’     Push button module address          H’033B’   Set push button 15 bit numbers for channel 4
 H’034C’     Push button module address          H’034D’   Toggle push button 1 bit numbers for channel 4
 ...         ...                                 ...       ...
 H’0358’     Push button module address          H’0359’   Toggle push button 15 bit numbers for channel 4
 H’035A’     Push button module address          H’005B’   Activate mode push button 1 bit numbers for channel 4
 ...         ...                                 ...       ...
 H’0376’     Push button module address          H’0077’   Activate mode push button 15 bit numbers for channel 4
 H’0378’     Push button module address          H’0379’   Toggle timer1 push button 1 bit numbers for channel 4
 ...         ...                                 ...       ...
 H’0394’     Push button module address          H’0395’   Toggle timer1 push button 15 bit numbers for channel 4
 H’0396’     Push button module address          H’0397’   Toggle timer2 push button 1 bit numbers for channel 4
 ...         ...                                 ...       ...
 H’03B2’     Push button module address          H’03B3’   Toggle timer2 push button 15 bit numbers for channel 4
 H’03B4’     Push button module address          H’03B5’   Start timer1 push button 1 bit numbers for channel 4
 ...         ...                                 ...       ...
 H’03D0’     Push button module address          H’03D1’   Start timer1 push button 15 bit numbers for channel 4
 H’03D2’     Push button module address          H’03D3’   Start timer2 push button 1 bit numbers for channel 4
 ...         ...                                 ...       ...
 H’03EE’     Push button module address          H’03EF’   Start timer2 push button 15 bit numbers for channel 4
 H’03F0’     Relay channel 4 name character 1    H’03F1’   Relay channel 4 name character 2
 ...         ...                                 ...       ...
 H’03FE’     Relay channel 4 name character 15   H’03FF’   Relay channel 4 name character 16

Remark:
Unused locations contain H’FF’




                                      VMB1RY PROTOCOL – edition 1 _ rev7                                            16
Memory map Build 0817 or 0818:

    Address   Contents                                        Address   Contents
    H’0000’   Push button module address                      H’0001’   Clear push button 1 bit numbers for channel 1
    ...       ...                                             ...       ...
    H’001A’   Push button module address                      H’001B’   Clear push button 14 bit numbers for channel 1
    H’001C’   Push button module address                      H’001D’   Set push button 1 bit numbers for channel 1
    ...       ...                                             ...       ...
    H’0036’   Push button module address                      H’0037’   Set push button 14 bit numbers for channel 1
    H’0038’   Push button module address                      H’0039’   Toggle push button 1 bit numbers for channel 1
    ...       ...                                             ...       ...
    H’0052’   Push button module address                      H’0053’   Toggle push button 14 bit numbers for channel 1
    H’0054’   Push button module address                      H’0055’   Activate mode push button 1 bit numbers for channel 1
    ...       ...                                             ...       ...
    H’006E’   Push button module address                      H’006F’   Activate mode push button 14 bit numbers for channel 1
    H’0070’   Push button module address                      H’0071’   Toggle timer1 push button 1 bit numbers for channel 1
    ...       ...                                             ...       ...
    H’008A’   Push button module address                      H’008B’   Toggle timer1 push button 14 bit numbers for channel 1
    H’008C’   Push button module address                      H’008D’   Toggle timer2 push button 1 bit numbers for channel 1
    ...       ...                                             ...       ...
    H’00A6’   Push button module address                      H’00A7’   Toggle timer2 push button 14 bit numbers for channel 1
    H’00A8’   Push button module address                      H’00A9’   Start timer1 push button 1 bit numbers for channel 1
    ...       ...                                             ...       ...
    H’00C2’   Push button module address                      H’00C3’   Start timer1 push button 14 bit numbers for channel 1
    H’00C4’   Push button module address                      H’00C5’   Start timer2 push button 1 bit numbers for channel 1
    ...       ...                                             ...       ...
    H’00DE’   Push button module address                      H’00DF’   Start timer2 push button 14 bit numbers for channel 1
    H’00E0’   Local Push button channel 1 name character 1    H’00E1’   Push button channel 1 name character 2
    ...       ...                                             ...       ...
    H’00EE’   Local Push button channel 1 name character 15   H’00EF’   Push button channel 1 response time
    H’00F0’   Relay channel 1 name character 1                H’00F1’   Relay channel 1 name character 2
    ...       ...                                             ...       ...
    H’00FE’   Relay channel 1name character 15                H’00FF’   Relay channel 1 name character 16

    Address   Contents                                        Address   Contents
    H’0100’   Push button module address                      H’0101’   Clear push button 1 bit numbers for channel 2
    ...       ...                                             ...       ...
    H’0118’   Push button module address                      H’0119’   Clear push button 14 bit numbers for channel 2
    H’011A’   Push button module address                      H’011B’   Set push button 1 bit numbers for channel 2
    ...       ...                                             ...       ...
    H’0136’   Push button module address                      H’0137’   Set push button 14 bit numbers for channel 2
    H’0138’   Push button module address                      H’0139’   Toggle push button 1 bit numbers for channel 2
    ...       ...                                             ...       ...
    H’0152’   Push button module address                      H’0153’   Toggle push button 14 bit numbers for channel 2
    H’0154’   Push button module address                      H’0055’   Activate mode push button 1 bit numbers for channel 2
    ...       ...                                             ...       ...
    H’016E’   Push button module address                      H’006F’   Activate mode push button 14 bit numbers for channel 2
    H’0170’   Push button module address                      H’0171’   Toggle timer1 push button 1 bit numbers for channel 2
    ...       ...                                             ...       ...
    H’018A’   Push button module address                      H’018B’   Toggle timer1 push button 14 bit numbers for channel 2
    H’018C’   Push button module address                      H’018D’   Toggle timer2 push button 1 bit numbers for channel 2
    ...       ...                                             ...       ...
    H’01A6’   Push button module address                      H’01A7’   Toggle timer2 push button 14 bit numbers for channel 2
    H’01A8’   Push button module address                      H’01A9’   Start timer1 push button 1 bit numbers for channel 2
    ...       ...                                             ...       ...
    H’01C2’   Push button module address                      H’01C3’   Start timer1 push button 14 bit numbers for channel 2
    H’01C4’   Push button module address                      H’01C4’   Start timer2 push button 1 bit numbers for channel 2
    ...       ...                                             ...       ...
    H’01DE’   Push button module address                      H’01DF’   Start timer2 push button 14 bit numbers for channel 2
    H’01E0’   Local Push button channel 2 name character 1    H’01E1’   Push button channel 2 name character 2
    ...       ...                                             ...       ...
    H’01EE’   Local Push button channel 2 name character 15   H’01EF’   Push button channel 2 response time
    H’01F0’   Relay channel 2 name character 1                H’01F1’   Relay channel 2 name character 2
    ...       ...                                             ...       ...
    H’01FE’   Relay channel 2name character 15                H’01FF’   Relay channel 2 name character 16




                                        VMB1RY PROTOCOL – edition 1 _ rev7                                                17
 Address    Contents                                        Address   Contents
 H’0200’    Push button module address                      H’0201’   Clear push button 1 bit numbers for channel 3
 ...        ...                                             ...       ...
 H’021A’    Push button module address                      H’021B’   Clear push button 14 bit numbers for channel 3
 H’021C’    Push button module address                      H’022D’   Set push button 1 bit numbers for channel 3
 ...        ...                                             ...       ...
 H’0236’    Push button module address                      H’0237’   Set push button 14 bit numbers for channel 3
 H’0238’    Push button module address                      H’0239’   Toggle push button 1 bit numbers for channel 3
 ...        ...                                             ...       ...
 H’0252’    Push button module address                      H’0253’   Toggle push button 14 bit numbers for channel 3
 H’0254’    Push button module address                      H’0055’   Activate mode push button 1 bit numbers for channel 3
 ...        ...                                             ...       ...
 H’026E’    Push button module address                      H’006F’   Activate mode push button 14 bit numbers for channel 3
 H’0270’    Push button module address                      H’0271’   Toggle timer1 push button 1 bit numbers for channel 3
 ...        ...                                             ...       ...
 H’028A’    Push button module address                      H’028B’   Toggle timer1 push button 14 bit numbers for channel 3
 H’028C’    Push button module address                      H’028D’   Toggle timer2 push button 1 bit numbers for channel 3
 ...        ...                                             ...       ...
 H’02A6’    Push button module address                      H’02A7’   Toggle timer2 push button 14 bit numbers for channel 3
 H’02A8’    Push button module address                      H’02A9’   Start timer1 push button 1 bit numbers for channel 3
 ...        ...                                             ...       ...
 H’02C2’    Push button module address                      H’02C3’   Start timer1 push button 14 bit numbers for channel 3
 H’02C4’    Push button module address                      H’02C5’   Start timer2 push button 1 bit numbers for channel 3
 ...        ...                                             ...       ...
 H’02DE’    Push button module address                      H’02DF’   Start timer2 push button 14 bit numbers for channel 3
 H’02E0’    Local Push button channel 3 name character 1    H’02E1’   Push button channel 3 name character 2
 ...        ...                                             ...       ...
 H’02EE’    Local Push button channel 3 name character 15   H’02EF’   Push button channel 3 response time
 H’02F0’    Relay channel 3 name character 1                H’02F1’   Relay channel 3 name character 2
 ...        ...                                             ...       ...
 H’02FE’    Relay channel 3 name character 15               H’02FF’   Relay channel 3 name character 16

 Address    Contents                                        Address   Contents
 H’0300’    Push button module address                      H’0301’   Clear push button 1 bit numbers for channel 4
 ...        ...                                             ...       ...
 H’031A’    Push button module address                      H’031B’   Clear push button 14 bit numbers for channel 4
 H’031C’    Push button module address                      H’031D’   Set Push button 1 bit numbers for channel 4
 ...        ...                                             ...       ...
 H’0336’    Push button module address                      H’0337’   Set push button 14 bit numbers for channel 4
 H’0338’    Push button module address                      H’0339’   Toggle push button 1 bit numbers for channel 4
 ...        ...                                             ...       ...
 H’0352’    Push button module address                      H’0353’   Toggle push button 14 bit numbers for channel 4
 H’0354’    Push button module address                      H’0055’   Activate mode push button 1 bit numbers for channel 4
 ...        ...                                             ...       ...
 H’036E’    Push button module address                      H’006F’   Activate mode push button 14 bit numbers for channel 4
 H’0370’    Push button module address                      H’0371’   Toggle timer1 push button 1 bit numbers for channel 4
 ...        ...                                             ...       ...
 H’038A’    Push button module address                      H’038B’   Toggle timer1 push button 14 bit numbers for channel 4
 H’038C’    Push button module address                      H’038D’   Toggle timer2 push button 1 bit numbers for channel 4
 ...        ...                                             ...       ...
 H’03A6’    Push button module address                      H’03A7’   Toggle timer2 push button 14 bit numbers for channel 4
 H’03A8’    Push button module address                      H’03A9’   Start timer1 push button 1 bit numbers for channel 4
 ...        ...                                             ...       ...
 H’03C2’    Push button module address                      H’03C3’   Start timer1 push button 14 bit numbers for channel 4
 H’03C4’    Push button module address                      H’03C5’   Start timer2 push button 1 bit numbers for channel 4
 ...        ...                                             ...       ...
 H’03DE’    Push button module address                      H’03DF’   Start timer2 push button 14 bit numbers for channel 4
 H’03E0’    Local Push button channel 4 name character 1    H’03E1’   Push button channel 4 name character 2
 ...        ...                                             ...       ...
 H’03EE’    Local Push button channel 4 name character 15   H’03EF’   Push button channel 4 response time
 H’03F0’    Relay channel 4 name character 1                H’03F1’   Relay channel 4 name character 2
 ...        ...                                             ...       ...
 H’03FE’    Relay channel 4 name character 15               H’03FF’   Relay channel 4 name character 16

Remark: Unused locations contain H’FF’




                                      VMB1RY PROTOCOL – edition 1 _ rev7                                                18
Memory map Build 1019 to 1022:

    Address   Contents                                       Address    Contents
    H’0000’   Push button 1 module address                   H’0001’    Push button 1 bit number
    H’0002’   Push button 1 action fo channel 1              H’0003’    Push button 1 first time parameter
    H’0004’   Push button 1 second time parameter            H’0005’    Push button 1 third time parameter
    H’0006’   Push button 2 module address                   H’0007’    Push button 2 bit number
    H’0008’   Push button 2 action fo channel 1              H’0009’    Push button 2 first time parameter
    H’000A’   Push button 2 second time parameter            H’000B’    Push button 2 third time parameter
    ...       ...                                            ...        ...
    H’00D8’   Push button 37 module address                  H’00D9’    Push button 37 bit number
    H’00DA’   Push button 37 action fo channel 1             H’00DB’    Push button 37 first time parameter
    H’00DC’   Push button 37 second time parameter           H’00DD’    Push button 37 third time parameter
    H’00DE’   Not used                                       H’00DF’    Not used
    H’00E0’   Local Push button channel 1 name character 1   H’00EF1’   Local Push button channel 1 name character 2
    ...       ...                                            ...        ...
    H’00EE’   Local Push button channel 1name character 15   H’00EF’    Local Push button channel 1 response time
    H’00F0’   Relay channel 1 name character 1               H’00F1’    Relay channel 1 name character 2
    ...       ...                                            ...        ...
    H’00FE’   Relay channel 1name character 15               H’00FF’    Relay channel 1 name character 16

    Address   Contents                                       Address    Contents
    H’0100’   Push button 1 module address                   H’0101’    Push button 1 bit number
    H’0102’   Push button 1 action fo channel 2              H’0103’    Push button 1 first time parameter
    H’0104’   Push button 1 second time parameter            H’0105’    Push button 1 third time parameter
    H’0106’   Push button 2 module address                   H’0107’    Push button 2 bit number
    H’0108’   Push button 2 action fo channel 2              H’0109’    Push button 2 first time parameter
    H’010A’   Push button 2 second time parameter            H’010B’    Push button 2 third time parameter
    ...       ...                                            ...        ...
    H’01D8’   Push button 37 module address                  H’01D9’    Push button 37 bit number
    H’01DA’   Push button 37 action fo channel 2             H’01DB’    Push button 37 first time parameter
    H’01DC’   Push button 37 second time parameter           H’01DD’    Push button 37 third time parameter
    H’01DE’   Not used                                       H’01DF’    Not used
    H’01E0’   Local Push button channel 2 name character 1   H’01EF1’   Local Push button channel 2 name character 2
    ...       ...                                            ...        ...
    H’01EE’   Local Push button channel 2name character 15   H’01EF’    Local Push button channel 2 response time
    H’01F0’   Relay channel 2 name character 1               H’01F1’    Relay channel 2 name character 2
    ...       ...                                            ...        ...
    H’01FE’   Relay channel 2name character 15               H’01FF’    Relay channel 2 name character 16

    Address   Contents                                       Address    Contents
    H’0200’   Push button 1 module address                   H’0201’    Push button 1 bit number
    H’0202’   Push button 1 action fo channel 3              H’0203’    Push button 1 first time parameter
    H’0204’   Push button 1 second time parameter            H’0205’    Push button 1 third time parameter
    H’0206’   Push button 2 module address                   H’0207’    Push button 2 bit number
    H’0208’   Push button 2 action fo channel 3              H’0209’    Push button 2 first time parameter
    H’020A’   Push button 2 second time parameter            H’020B’    Push button 2 third time parameter
    ...       ...                                            ...        ...
    H’02D8’   Push button 37 module address                  H’02D9’    Push button 37 bit number
    H’02DA’   Push button 37 action fo channel 3             H’02DB’    Push button 37 first time parameter
    H’02DC’   Push button 37 second time parameter           H’02DD’    Push button 37 third time parameter
    H’02DE’   Not used                                       H’02DF’    Not used
    H’02E0’   Local Push button channel 3 name character 1   H’02EF1’   Local Push button channel 3 name character 2
    ...       ...                                            ...        ...
    H’02EE’   Local Push button channel 3name character 15   H’02EF’    Local Push button channel 3 response time
    H’02F0’   Relay channel 3 name character 1               H’02F1’    Relay channel 3 name character 2
    ...       ...                                            ...        ...
    H’02FE’   Relay channel 3name character 15               H’02FF’    Relay channel 3 name character 16




                                       VMB1RY PROTOCOL – edition 1 _ rev7                                              19
     Address      Contents                                        Address      Contents
     H’0300’      Push button 1 module address                    H’0301’      Push button 1 bit number
     H’0302’      Push button 1 action fo channel 4               H’0303’      Push button 1 first time parameter
     H’0304’      Push button 1 second time parameter             H’0305’      Push button 1 third time parameter
     H’0306’      Push button 2 module address                    H’0307’      Push button 2 bit number
     H’0308’      Push button 2 action fo channel 4               H’0309’      Push button 2 first time parameter
     H’030A’      Push button 2 second time parameter             H’030B’      Push button 2 third time parameter
     ...          ...                                             ...          ...
     H’03D8’      Push button 37 module address                   H’03D9’      Push button 37 bit number
     H’03DA’      Push button 37 action fo channel 4              H’03DB’      Push button 37 first time parameter
     H’03DC’      Push button 37 second time parameter            H’03DD’      Push button 37 third time parameter
     H’03DE’      Not used                                        H’03DF’      Not used
     H’03E0’      Local Push button channel 4 name character 1    H’03EF1’     Local Push button channel 4 name character 2
     ...          ...                                             ...          ...
     H’03EE’      Local Push button channel 4name character 15    H’03EF’      Local Push button channel 4 response time
     H’03F0’      Relay channel 4 name character 1                H’03F1’      Relay channel 4 name character 2
     ...          ...                                             ...          ...
     H’03FE’      Relay channel 4name character 15                H’03FF’      Relay channel 4 name character 16

    Valid response times are:
     • H’05’ : 65ms
     • H’4C’ : 1s
     • H’99’ : 2s
     • H’E0’ : 3s

    Remark:
    Unused locations contain H’FF’


Action   Description                                    First time parameter   Second time parameter       Third time parameter
H’00’    Momentary                                      H’FF’                  H’FF’                       H’FF’
H’01’    Off                                            H’FF’                  H’FF’                       H’FF’
H’02’    On                                             H’FF’                  H’FF’                       H’FF’
H’03’    ‘On’ with timers disabled                      H’FF’                  H’FF’                       H’FF’
H’04’    ‘On’ with timers disabled at short press       H’FF’                  H’FF’                       H’FF’
H’05’    ‘On’ with timers disabled at long press        H’FF’                  H’FF’                       H’FF’
H’06’    Toggle                                         H’FF’                  H’FF’                       H’FF’
H’07’    ‘Toggle’ with timers disabled                  H’FF’                  H’FF’                       H’FF’
H’08’    ‘Toggle’ with timers disabled at short press   H’FF’                  H’FF’                       H’FF’
H’09’    ‘Toggle’ with timers disabled at long press    H’FF’                  H’FF’                       H’FF’
H’0A’    Start/stop timer                               Time1 at short press   Time2 at long press         H’FF’
H’0B’    Restartable timer                              Time1 at short press   Time2 at long press         H’FF’
H’0C’    Non retriggerable timer                        Time                   H’FF’                       H’FF’
H’0D’    Trigger on release timer                       Time                   H’FF’                       H’FF’
H’0E’    ‘On’ at press, delayed ‘Off’ at release        Delayed ‘Off’ time     H’FF’                       H’FF’
H’0F’    Delayed ‘Off’ only when relay is on            Delayed ‘Off’ time     H’FF’                       H’FF’
H’10’    Start/stop delayed ‘On’                        Delayed ‘On’ time      Timeout                     H’FF’
H’11’    Restartable delayed ‘On’                       Delayed ‘On’ time      Timeout                     H’FF’
H’12’    Non restartable delayed ‘On’                   Delayed ‘On’ time      Timeout                     H’FF’
H’13’    Start/Stop interval timer                      Timeout                Pulse time                  Pauze time
H’14’    Restartable interval timer                     Timeout                Pulse time                  Pauze time
H’15’    Non restartable interval timer                 Timeout                Pulse time                  Pauze time
H’16’    Disable at closed switch                       H’FF’                  H’FF’                       H’FF’
H’17’    Disable at opened switch                       H’FF’                  H’FF’                       H’FF’
H’18’    Disable at pressing push button                H’FF’                  H’FF’                       H’FF’
H’19’    Cancel disable at pressing push button         H’FF’                  H’FF’                       H’FF’
H’1A’    Forced ‘On’ at closed switch                   H’FF’                  H’FF’                       H’FF’
H’1B’    Forced ‘On’ at opened switch                   H’FF’                  H’FF’                       H’FF’
H’1C’    Forced ‘On’ at pressing push button            H’FF’                  H’FF’                       H’FF’
H’1D’    Cancel Forced ‘On’ at pressing push button     H’FF’                  H’FF’                       H’FF’
H’1E’    Inhibit at closed switch                       H’FF’                  H’FF’                       H’FF’
H’1F’    Inhibit at opened switch                       H’FF’                  H’FF’                       H’FF’
H’20’    Inhibit at pressing push button                H’FF’                  H’FF’                       H’FF’
H’21’    Cancel inhibit at pressing push button         H’FF’                  H’FF’                       H’FF’




                                              VMB1RY PROTOCOL – edition 1 _ rev7                                              20
Time parameter   Time
0                No timer
1                1s
2                2s
...
119              1min59s
120              2min
121              2min15s
...
131              4min45s
132              5min
133              5min30s
...
181              29min30s
182              30min
183              31min
...
211              59min
212              1h
213              1h15min
...
227              4h45min
228              5h
229              5h30min
...
237              9h30min
238              10h
239              11h
...
251              23h
252              1d
253              2d
254              3d
255              infinite




                            VMB1RY PROTOCOL – edition 1 _ rev7   21
Memory map Build 1025 or higher:

    Address   Contents                                       Address    Contents
    H’0000’   Push button 1 module address                   H’0001’    Push button 1 bit number
    H’0002’   Push button 1 action fo channel 1              H’0003’    Push button 1 first time parameter
    H’0004’   Push button 1 second time parameter            H’0005’    Push button 1 third time parameter
    H’0006’   Push button 2 module address                   H’0007’    Push button 2 bit number
    H’0008’   Push button 2 action fo channel 1              H’0009’    Push button 2 first time parameter
    H’000A’   Push button 2 second time parameter            H’000B’    Push button 2 third time parameter
    ...       ...                                            ...        ...
    H’00D8’   Push button 37 module address                  H’00D9’    Push button 37 bit number
    H’00DA’   Push button 37 action fo channel 1             H’00DB’    Push button 37 first time parameter
    H’00DC’   Push button 37 second time parameter           H’00DD’    Push button 37 third time parameter
    H’00DE’   Normal open or normal closed contact CH1       H’00DF’    Not used
    H’00E0’   Local Push button channel 1 name character 1   H’00EF1’   Local Push button channel 1 name character 2
    ...       ...                                            ...        ...
    H’00EE’   Local Push button channel 1name character 15   H’00EF’    Local Push button channel 1 response time
    H’00F0’   Relay channel 1 name character 1               H’00F1’    Relay channel 1 name character 2
    ...       ...                                            ...        ...
    H’00FE’   Relay channel 1name character 15               H’00FF’    Relay channel 1 name character 16

    Address   Contents                                       Address    Contents
    H’0100’   Push button 1 module address                   H’0101’    Push button 1 bit number
    H’0102’   Push button 1 action fo channel 2              H’0103’    Push button 1 first time parameter
    H’0104’   Push button 1 second time parameter            H’0105’    Push button 1 third time parameter
    H’0106’   Push button 2 module address                   H’0107’    Push button 2 bit number
    H’0108’   Push button 2 action fo channel 2              H’0109’    Push button 2 first time parameter
    H’010A’   Push button 2 second time parameter            H’010B’    Push button 2 third time parameter
    ...       ...                                            ...        ...
    H’01D8’   Push button 37 module address                  H’01D9’    Push button 37 bit number
    H’01DA’   Push button 37 action fo channel 2             H’01DB’    Push button 37 first time parameter
    H’01DC’   Push button 37 second time parameter           H’01DD’    Push button 37 third time parameter
    H’01DE’   Normal open or normal closed contact CH2       H’01DF’    Not used
    H’01E0’   Local Push button channel 2 name character 1   H’01EF1’   Local Push button channel 2 name character 2
    ...       ...                                            ...        ...
    H’01EE’   Local Push button channel 2name character 15   H’01EF’    Local Push button channel 2 response time
    H’01F0’   Relay channel 2 name character 1               H’01F1’    Relay channel 2 name character 2
    ...       ...                                            ...        ...
    H’01FE’   Relay channel 2name character 15               H’01FF’    Relay channel 2 name character 16

    Address   Contents                                       Address    Contents
    H’0200’   Push button 1 module address                   H’0201’    Push button 1 bit number
    H’0202’   Push button 1 action fo channel 3              H’0203’    Push button 1 first time parameter
    H’0204’   Push button 1 second time parameter            H’0205’    Push button 1 third time parameter
    H’0206’   Push button 2 module address                   H’0207’    Push button 2 bit number
    H’0208’   Push button 2 action fo channel 3              H’0209’    Push button 2 first time parameter
    H’020A’   Push button 2 second time parameter            H’020B’    Push button 2 third time parameter
    ...       ...                                            ...        ...
    H’02D8’   Push button 37 module address                  H’02D9’    Push button 37 bit number
    H’02DA’   Push button 37 action fo channel 3             H’02DB’    Push button 37 first time parameter
    H’02DC’   Push button 37 second time parameter           H’02DD’    Push button 37 third time parameter
    H’02DE’   Normal open or normal closed contact CH3       H’02DF’    Not used
    H’02E0’   Local Push button channel 3 name character 1   H’02EF1’   Local Push button channel 3 name character 2
    ...       ...                                            ...        ...
    H’02EE’   Local Push button channel 3name character 15   H’02EF’    Local Push button channel 3 response time
    H’02F0’   Relay channel 3 name character 1               H’02F1’    Relay channel 3 name character 2
    ...       ...                                            ...        ...
    H’02FE’   Relay channel 3name character 15               H’02FF’    Relay channel 3 name character 16




                                       VMB1RY PROTOCOL – edition 1 _ rev7                                              22
      Address        Contents                                        Address      Contents
      H’0300’        Push button 1 module address                    H’0301’      Push button 1 bit number
      H’0302’        Push button 1 action fo channel 4               H’0303’      Push button 1 first time parameter
      H’0304’        Push button 1 second time parameter             H’0305’      Push button 1 third time parameter
      H’0306’        Push button 2 module address                    H’0307’      Push button 2 bit number
      H’0308’        Push button 2 action fo channel 4               H’0309’      Push button 2 first time parameter
      H’030A’        Push button 2 second time parameter             H’030B’      Push button 2 third time parameter
      ...            ...                                             ...          ...
      H’03D8’        Push button 37 module address                   H’03D9’      Push button 37 bit number
      H’03DA’        Push button 37 action fo channel 4              H’03DB’      Push button 37 first time parameter
      H’03DC’        Push button 37 second time parameter            H’03DD’      Push button 37 third time parameter
      H’03DE’        Normal open or normal closed contact CH4        H’03DF’      Not used
      H’03E0’        Local Push button channel 4 name character 1    H’03EF1’     Local Push button channel 4 name character 2
      ...            ...                                             ...          ...
      H’03EE’        Local Push button channel 4name character 15    H’03EF’      Local Push button channel 4 response time
      H’03F0’        Relay channel 4 name character 1                H’03F1’      Relay channel 4 name character 2
      ...            ...                                             ...          ...
      H’03FE’        Relay channel 4name character 15                H’03FF’      Relay channel 4 name character 16

    Valid response times are:
     • H’05’ : 65ms
     • H’4C’ : 1s
     • H’99’ : 2s
     • H’E0’ : 3s

    Remark:
    Unused locations contain H’FF’

Normal open or normal closed contact:
         • H’FF’ : normal open relay contact
         • H’00’ : normal closed relay contact


Action      Description                                    First time parameter   Second time parameter       Third time parameter
H’00’       Momentary                                      H’FF’                  H’FF’                       H’FF’
H’01’       Off                                            H’FF’                  H’FF’                       H’FF’
H’02’       ‘Off’ with timers disabled                     H’FF’                  H’FF’                       H’FF’
H’03’       ‘Off’ with timers disabled at short press      H’FF’                  H’FF’                       H’FF’
H’04’       ‘Off’ with timers disabled at long press       H’FF’                  H’FF’                       H’FF’
H’05’       On                                             H’FF’                  H’FF’                       H’FF’
H’06’       ‘On’ with timers disabled                      H’FF’                  H’FF’                       H’FF’
H’07’       ‘On’ with timers disabled at short press       H’FF’                  H’FF’                       H’FF’
H’08’       ‘On’ with timers disabled at long press        H’FF’                  H’FF’                       H’FF’
H’09’       Toggle                                         H’FF’                  H’FF’                       H’FF’
H’0A’       ‘Toggle’ with timers disabled                  H’FF’                  H’FF’                       H’FF’
H’0B’       ‘Toggle’ with timers disabled at short press   H’FF’                  H’FF’                       H’FF’
H’0C’       ‘Toggle’ with timers disabled at long press    H’FF’                  H’FF’                       H’FF’
H’0D’       Start/stop timer                               Time1 at short press   Time2 at long press         H’FF’
H’0E’       Restartable timer                              Time1 at short press   Time2 at long press         H’FF’
H’0F’       Non retriggerable timer                        Time                   H’FF’                       H’FF’
H’10’       Trigger on release timer                       Time                   H’FF’                       H’FF’
H’11’       ‘On’ at press, delayed ‘Off’ at release        Delayed ‘Off’ time     H’FF’                       H’FF’
H’12’       Delayed ‘Off’ only when relay is on            Delayed ‘Off’ time     H’FF’                       H’FF’
H’13’       Start/stop delayed ‘On’                        Delayed ‘On’ time      Timeout                     H’FF’
H’14’       Restartable delayed ‘On’                       Delayed ‘On’ time      Timeout                     H’FF’
H’15’       Non restartable delayed ‘On’                   Delayed ‘On’ time      Timeout                     H’FF’
H’16’       Start/Stop interval timer                      Timeout                Pulse time                  Pauze time
H’17’       Restartable interval timer                     Timeout                Pulse time                  Pauze time
H’18’       Non restartable interval timer                 Timeout                Pulse time                  Pauze time
H’19’       Disable at closed switch                       H’FF’                  H’FF’                       H’FF’
H’1A’       Disable at opened switch                       H’FF’                  H’FF’                       H’FF’
H’1B’       Disable at pressing push button                Timeout                H’FF’                       H’FF’
H’1C’       Toggle disable at pressing push button         Timeout                H’FF’                       H’FF’
H’1D’       Cancel disable at pressing push button         H’FF’                  H’FF’                       H’FF’
H’1E’       Forced ‘On’ at closed switch                   H’FF’                  H’FF’                       H’FF’




                                                 VMB1RY PROTOCOL – edition 1 _ rev7                                              23
H’1F’   Forced ‘On’ at opened switch                 H’FF’              H’FF’   H’FF’
H’20’   Forced ‘On’ at pressing push button          Timeout            H’FF’   H’FF’
H’21’   Toggle forced ‘On’ at pressing push button   Timeout            H’FF’   H’FF’
H’22’   Cancel Forced ‘On’ at pressing push button   H’FF’              H’FF’   H’FF’
H’23’   Inhibit at closed switch                     H’FF’              H’FF’   H’FF’
H’24’   Inhibit at opened switch                     H’FF’              H’FF’   H’FF’
H’25’   Inhibit at pressing push button              Timeout            H’FF’   H’FF’
H’26’   Toggle inhibit at pressing push button       Timeout            H’FF’   H’FF’
H’27’   Cancel inhibit at pressing push button       H’FF’              H’FF’   H’FF’


         Time parameter       Time
         0                    No timer
         1                    1s
         2                    2s
         ...
         119                  1min59s
         120                  2min
         121                  2min15s
         ...
         131                  4min45s
         132                  5min
         133                  5min30s
         ...
         181                  29min30s
         182                  30min
         183                  31min
         ...
         211                  59min
         212                  1h
         213                  1h15min
         ...
         227                  4h45min
         228                  5h
         229                  5h30min
         ...
         237                  9h30min
         238                  10h
         239                  11h
         ...
         251                  23h
         252                  1d
         253                  2d
         254                  3d
         255                  infinite




                                           VMB1RY PROTOCOL – edition 1 _ rev7           24
